(function($,window){var defaults={transition:"elastic",speed:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,inline:false,html:false,iframe:false,photo:false,href:false,title:false,rel:false,opacity:0.9,preloading:true,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",open:false,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",
slideshowStop:"stop slideshow",onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true},colorbox="colorbox",prefix="cbox",event_open=prefix+"_open",event_load=prefix+"_load",event_complete=prefix+"_complete",event_cleanup=prefix+"_cleanup",event_closed=prefix+"_closed",isIE=$.browser.msie&&!$.support.opacity,isIE6=isIE&&$.browser.version<7,event_ie6=prefix+"_IE6",$overlay,$box,$wrap,$content,$topBorder,$leftBorder,$rightBorder,$bottomBorder,
$related,$window,$loaded,$loadingBay,$loadingOverlay,$title,$current,$slideshow,$next,$prev,$close,interfaceHeight,interfaceWidth,loadedHeight,loadedWidth,element,bookmark,index,settings,open,active,publicMethod,boxElement=prefix+"Element";function $div(id,css){id=id?' id="'+prefix+id+'"':"";css=css?' style="'+css+'"':"";return $("<div"+id+css+"/>")}function setSize(size,dimension){dimension=dimension==="x"?$window.width():$window.height();return typeof size==="string"?Math.round(size.match(/%/)?
dimension/100*parseInt(size,10):parseInt(size,10)):size}function isImage(url){url=$.isFunction(url)?url.call(element):url;return settings.photo||url.match(/\.(gif|png|jpg|jpeg|bmp)(?:\?([^#]*))?(?:#(\.*))?$/i)}function process(){for(var i in settings)if($.isFunction(settings[i])&&i.substring(0,2)!=="on")settings[i]=settings[i].call(element);settings.rel=settings.rel||element.rel||"nofollow";settings.href=settings.href||$(element).attr("href");settings.title=settings.title||element.title}function launch(elem){element=
elem;settings=$.extend({},$(element).data(colorbox));process();if(settings.rel!=="nofollow"){$related=$("."+boxElement).filter(function(){var relRelated=$(this).data(colorbox).rel||this.rel;return relRelated===settings.rel});index=$related.index(element);if(index===-1){$related=$related.add(element);index=$related.length-1}}else{$related=$(element);index=0}if(!open){open=active=true;bookmark=element;try{bookmark.blur()}catch(e){}$.event.trigger(event_open);if(settings.onOpen)settings.onOpen.call(element);
$overlay.css({"opacity":+settings.opacity,"cursor":settings.overlayClose?"pointer":"auto"}).show();settings.w=setSize(settings.initialWidth,"x");settings.h=setSize(settings.initialHeight,"y");publicMethod.position(0);if(isIE6)$window.bind("resize."+event_ie6+" scroll."+event_ie6,function(){$overlay.css({width:$window.width(),height:$window.height(),top:$window.scrollTop(),left:$window.scrollLeft()})}).trigger("scroll."+event_ie6)}$current.add($prev).add($next).add($slideshow).add($title).hide();$close.html(settings.close).show();
publicMethod.slideshow();publicMethod.load()}publicMethod=$.fn[colorbox]=$[colorbox]=function(options,callback){var $this=this;if(!$this[0]&&$this.selector)return $this;options=options||{};if(callback)options.onComplete=callback;if(!$this[0]||$this.selector===undefined){$this=$("<a/>");options.open=true}$this.each(function(){$(this).data(colorbox,$.extend({},$(this).data(colorbox)||defaults,options)).addClass(boxElement)});if(options.open)launch($this[0]);return $this};publicMethod.init=function(){$window=
$(window);$box=$div().attr({id:colorbox,"class":isIE?prefix+"IE":""});$overlay=$div("Overlay",isIE6?"position:absolute":"").hide();$title=$div("Title");$current=$div("Current");$next=$div("Next");$prev=$div("Previous");$slideshow=$div("Slideshow");$close=$div("Close");$wrap=$div("Wrapper");$content=$div("Content").append($loaded=$div("LoadedContent","width:0; height:0"),$loadingOverlay=$div("LoadingOverlay").add($div("LoadingGraphic")));$wrap.append($div().append($div("TopLeft"),$topBorder=$div("TopCenter"),
$div("TopRight")),$div().append($leftBorder=$div("MiddleLeft"),$content,$rightBorder=$div("MiddleRight")),$div().append($div("BottomLeft"),$bottomBorder=$div("BottomCenter"),$div("BottomRight"))).children().children().css({"float":"left"});$loadingBay=$div("-loading-bay","position:absolute; width:9999px; visibility:hidden; display:none");$("body").prepend($overlay,$box.append($wrap,$loadingBay));$content.children().hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}).addClass("hover");
interfaceHeight=$topBorder.height()+$bottomBorder.height()+$content.outerHeight(true)-$content.height();interfaceWidth=$leftBorder.width()+$rightBorder.width()+$content.outerWidth(true)-$content.width()+6;loadedHeight=$loaded.outerHeight(true);loadedWidth=$loaded.outerWidth(true)-6;$box.css({"padding-bottom":interfaceHeight,"padding-right":interfaceWidth}).hide();$next.click(publicMethod.next);$prev.click(publicMethod.prev);$close.click(publicMethod.close);$content.children().removeClass("hover");
$("."+boxElement).live("click",function(e){if(e.button!==0&&typeof e.button!=="undefined"||e.ctrlKey||e.shiftKey||e.altKey)return true;else{launch(this);return false}});$overlay.click(function(){if(settings.overlayClose)publicMethod.close()});$(document).bind("keydown",function(e){if(open&&settings.escKey&&e.keyCode===27){e.preventDefault();publicMethod.close()}if(open&&settings.arrowKey&&!active&&$related[1])if(e.keyCode===37&&(index||settings.loop)){e.preventDefault();$prev.click()}else if(e.keyCode===
39&&(index<$related.length-1||settings.loop)){e.preventDefault();$next.click()}})};publicMethod.remove=function(){$box.add($overlay).remove();$("."+boxElement).die("click").removeData(colorbox).removeClass(boxElement)};publicMethod.position=function(speed,loadedCallback){var animate_speed,posTop=Math.max($window.height()-settings.h-loadedHeight-interfaceHeight,0)/2+$window.scrollTop(),posLeft=Math.max($window.width()-settings.w-loadedWidth-interfaceWidth,0)/2+$window.scrollLeft();animate_speed=$box.width()===
settings.w+loadedWidth&&$box.height()===settings.h+loadedHeight?0:speed;$wrap[0].style.width=$wrap[0].style.height="9999px";function modalDimensions(that){$topBorder[0].style.width=$bottomBorder[0].style.width=that.style.width;if(that.style.width=="")$content[0].style.width=that.style.width;else{var w=that.style.width;w=(parseInt(w.replace("px",""))+6).toString()+"px";$content[0].style.width=w}$loadingOverlay[0].style.height=$loadingOverlay[1].style.height=$content[0].style.height=$leftBorder[0].style.height=
$rightBorder[0].style.height=that.style.height}$box.dequeue().animate({width:settings.w+loadedWidth,height:settings.h+loadedHeight,top:posTop,left:posLeft},{duration:animate_speed,complete:function(){modalDimensions(this);active=false;$wrap[0].style.width=settings.w+loadedWidth+interfaceWidth+"px";$wrap[0].style.height=settings.h+loadedHeight+interfaceHeight+"px";if(loadedCallback)loadedCallback()},step:function(){modalDimensions(this)}})};publicMethod.resize=function(options){if(open){options=options||
{};if(options.width)settings.w=setSize(options.width,"x")-loadedWidth-interfaceWidth;if(options.innerWidth)settings.w=setSize(options.innerWidth,"x");$loaded.css({width:settings.w});if(options.height)settings.h=setSize(options.height,"y")-loadedHeight-interfaceHeight;if(options.innerHeight)settings.h=setSize(options.innerHeight,"y");if(!options.innerHeight&&!options.height){var $child=$loaded.wrapInner("<div style='overflow:auto'></div>").children();settings.h=$child.height();$child.replaceWith($child.children())}$loaded.css({height:settings.h});
publicMethod.position(settings.transition==="none"?0:settings.speed)}};publicMethod.prep=function(object){if(!open)return;var photo,speed=settings.transition==="none"?0:settings.speed;$window.unbind("resize."+prefix);$loaded.remove();$loaded=$div("LoadedContent").html(object);function getWidth(){settings.w=settings.w||$loaded.width();settings.w=settings.mw&&settings.mw<settings.w?settings.mw:settings.w;return settings.w}function getHeight(){settings.h=settings.h||$loaded.height();settings.h=settings.mh&&
settings.mh<settings.h?settings.mh:settings.h;return settings.h}$loaded.hide().appendTo($loadingBay.show()).css({width:getWidth(),overflow:settings.scrolling?"auto":"hidden"}).css({height:getHeight()}).prependTo($content);$loadingBay.hide();$("#"+prefix+"Photo").css({cssFloat:"none"});if(isIE6)$("select").not($box.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({"visibility":"hidden"}).one(event_cleanup,function(){this.style.visibility="inherit"});function setPosition(s){var prev,
prevSrc,next,nextSrc,total=$related.length,loop=settings.loop;publicMethod.position(s,function(){function defilter(){if(isIE)$box[0].style.removeAttribute("filter")}if(!open)return;if(isIE)if(photo)$loaded.fadeIn(100);if(settings.iframe)$("<iframe frameborder=0"+(settings.scrolling?"":" scrolling='no'")+(isIE?" allowtransparency='true'":"")+"/>").appendTo($loaded).attr({src:settings.href,name:(new Date).getTime()});$loaded.show();$title.show().html(settings.title);if(total>1){$current.html(settings.current.replace(/\{current\}/,
index+1).replace(/\{total\}/,total)).show();$next[loop||index<total-1?"show":"hide"]().html(settings.next);$prev[loop||index?"show":"hide"]().html(settings.previous);prev=index?$related[index-1]:$related[total-1];next=index<total-1?$related[index+1]:$related[0];if(settings.slideshow){$slideshow.show();if(index===total-1&&!loop&&$box.is("."+prefix+"Slideshow_on"))$slideshow.click()}if(settings.preloading){nextSrc=$(next).data(colorbox).href||next.href;prevSrc=$(prev).data(colorbox).href||prev.href;
if(isImage(nextSrc))$("<img/>")[0].src=nextSrc;if(isImage(prevSrc))$("<img/>")[0].src=prevSrc}}$loadingOverlay.hide();if(settings.transition==="fade")$box.fadeTo(speed,1,function(){defilter()});else defilter();$window.bind("resize."+prefix,function(){publicMethod.position(0)});$.event.trigger(event_complete);if(settings.onComplete)settings.onComplete.call(element)})}if(settings.transition==="fade")$box.fadeTo(speed,0,function(){setPosition(0)});else setPosition(speed)};publicMethod.load=function(){var href,
img,setResize,prep=publicMethod.prep;active=true;element=$related[index];settings=$.extend({},$(element).data(colorbox));process();$.event.trigger(event_load);if(settings.onLoad)settings.onLoad.call(element);settings.h=settings.height?setSize(settings.height,"y")-loadedHeight-interfaceHeight:settings.innerHeight&&setSize(settings.innerHeight,"y");settings.w=settings.width?setSize(settings.width,"x")-loadedWidth-interfaceWidth:settings.innerWidth&&setSize(settings.innerWidth,"x");settings.mw=settings.w;
settings.mh=settings.h;if(settings.maxWidth){settings.mw=setSize(settings.maxWidth,"x")-loadedWidth-interfaceWidth;settings.mw=settings.w&&settings.w<settings.mw?settings.w:settings.mw}if(settings.maxHeight){settings.mh=setSize(settings.maxHeight,"y")-loadedHeight-interfaceHeight;settings.mh=settings.h&&settings.h<settings.mh?settings.h:settings.mh}href=settings.href;$loadingOverlay.show();if(settings.inline){$div("InlineTemp").hide().insertBefore($(href)[0]).bind(event_load+" "+event_cleanup,function(){$(this).replaceWith($loaded.children())});
prep($(href))}else if(settings.iframe)prep(" ");else if(settings.html)prep(settings.html);else if(isImage(href)){img=new Image;img.onload=function(){var percent;img.onload=null;img.id=prefix+"Photo";$(img).css({margin:"auto",border:"none",display:"block",cssFloat:"left"});if(settings.scalePhotos){setResize=function(){img.height-=img.height*percent;img.width-=img.width*percent};if(settings.mw&&img.width>settings.mw){percent=(img.width-settings.mw)/img.width;setResize()}if(settings.mh&&img.height>settings.mh){percent=
(img.height-settings.mh)/img.height;setResize()}}if(settings.h)img.style.marginTop=Math.max(settings.h-img.height,0)/2+"px";setTimeout(function(){prep(img)},1);if($related[1]&&(index<$related.length-1||settings.loop))$(img).css({cursor:"pointer"}).click(publicMethod.next);if(isIE)img.style.msInterpolationMode="bicubic"};img.src=href}else $div().appendTo($loadingBay).load(href,settings.post_data,function(data,status,xhr){prep(status==="error"?"Request unsuccessful: "+xhr.statusText:this)})};publicMethod.next=
function(){if(!active){index=index<$related.length-1?index+1:0;publicMethod.load()}};publicMethod.prev=function(){if(!active){index=index?index-1:$related.length-1;publicMethod.load()}};publicMethod.slideshow=function(){var stop,timeOut,className=prefix+"Slideshow_";$slideshow.bind(event_closed,function(){$slideshow.unbind();clearTimeout(timeOut);$box.removeClass(className+"off "+className+"on")});function start(){$slideshow.text(settings.slideshowStop).bind(event_complete,function(){timeOut=setTimeout(publicMethod.next,
settings.slideshowSpeed)}).bind(event_load,function(){clearTimeout(timeOut)}).one("click",function(){stop()});$box.removeClass(className+"off").addClass(className+"on")}stop=function(){clearTimeout(timeOut);$slideshow.text(settings.slideshowStart).unbind(event_complete+" "+event_load).one("click",function(){start();timeOut=setTimeout(publicMethod.next,settings.slideshowSpeed)});$box.removeClass(className+"on").addClass(className+"off")};if(settings.slideshow&&$related[1])if(settings.slideshowAuto)start();
else stop()};publicMethod.close=function(){if(open){open=false;$.event.trigger(event_cleanup);if(settings.onCleanup)settings.onCleanup.call(element);$window.unbind("."+prefix+" ."+event_ie6);$overlay.fadeTo("fast",0);$box.stop().fadeTo("fast",0,function(){$box.find("iframe").attr("src","about:blank");$loaded.remove();$box.add($overlay).css({"opacity":1,cursor:"auto"}).hide();try{bookmark.focus()}catch(e){}setTimeout(function(){$.event.trigger(event_closed);if(settings.onClosed)settings.onClosed.call(element)},
1)})}};publicMethod.element=function(){return $(element)};publicMethod.settings=defaults;$(publicMethod.init)})(jQuery,this);(function($){var colorboxPublicMethods=$.fn["colorbox"];colorboxPublicMethods.setContent=function(content){$("#cboxLoadedContent").empty();$("#cboxLoadedContent").append("<div>"+content+"</div>");$.fn.colorbox.resize()}})(jQuery);(function($){$.fn.ajaxSubmit=function(options){if(!this.length){log("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof options=="function")options={success:options};var url=$.trim(this.attr("action"));if(url)url=(url.match(/^([^#]+)/)||[])[1];url=url||window.location.href||"";options=$.extend({url:url,type:this.attr("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},options||{});var veto={};this.trigger("form-pre-serialize",
[this,options,veto]);if(veto.veto){log("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(options.beforeSerialize&&options.beforeSerialize(this,options)===false){log("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var a=this.formToArray(options.semantic);if(options.data){options.extraData=options.data;for(var n in options.data)if(options.data[n]instanceof Array)for(var k in options.data[n])a.push({name:n,value:options.data[n][k]});else a.push({name:n,
value:options.data[n]})}if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[a,this,options,veto]);if(veto.veto){log("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var q=$.param(a);if(options.type.toUpperCase()=="GET"){options.url+=(options.url.indexOf("?")>=0?"&":"?")+q;options.data=null}else options.data=q;var $form=this,callbacks=[];if(options.resetForm)callbacks.push(function(){$form.resetForm()});
if(options.clearForm)callbacks.push(function(){$form.clearForm()});if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data){var fn=options.replaceTarget?"replaceWith":"html";$(options.target)[fn](data).each(oldSuccess,arguments)})}else if(options.success)callbacks.push(options.success);options.success=function(data,status,xhr){for(var i=0,max=callbacks.length;i<max;i++)callbacks[i].apply(options,[data,status,xhr||$form,$form])};var files=$("input:file",
this).fieldValue();var found=false;for(var j=0;j<files.length;j++)if(files[j])found=true;var multipart=false;if(files.length&&options.iframe!==false||options.iframe||found||multipart)if(options.closeKeepAlive)$.get(options.closeKeepAlive,fileUpload);else fileUpload();else $.ajax(options);this.trigger("form-submit-notify",[this,options]);return this;function fileUpload(){var form=$form[0];if($(":input[name=submit]",form).length){alert('Error: Form elements must not be named "submit".');return}var opts=
$.extend({},$.ajaxSettings,options);var s=$.extend(true,{},$.extend(true,{},$.ajaxSettings),opts);var id="jqFormIO"+(new Date).getTime();var $io=$('<iframe id="'+id+'" name="'+id+'" src="'+opts.iframeSrc+'" onload="(jQuery(this).data(\'form-plugin-onload\'))()" />');var io=$io[0];$io.css({position:"absolute",top:"-1000px",left:"-1000px"});var xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},
abort:function(){this.aborted=1;$io.attr("src",opts.iframeSrc)}};var g=opts.global;if(g&&!$.active++)$.event.trigger("ajaxStart");if(g)$.event.trigger("ajaxSend",[xhr,opts]);if(s.beforeSend&&s.beforeSend(xhr,s)===false){s.global&&$.active--;return}if(xhr.aborted)return;var cbInvoked=false;var timedOut=0;var sub=form.clk;if(sub){var n=sub.name;if(n&&!sub.disabled){opts.extraData=opts.extraData||{};opts.extraData[n]=sub.value;if(sub.type=="image"){opts.extraData[n+".x"]=form.clk_x;opts.extraData[n+
".y"]=form.clk_y}}}function doSubmit(){var t=$form.attr("target"),a=$form.attr("action");form.setAttribute("target",id);if(form.getAttribute("method")!="POST")form.setAttribute("method","POST");if(form.getAttribute("action")!=opts.url)form.setAttribute("action",opts.url);if(!opts.skipEncodingOverride)$form.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});if(opts.timeout)setTimeout(function(){timedOut=true;cb()},opts.timeout);var extraInputs=[];try{if(opts.extraData)for(var n in opts.extraData)extraInputs.push($('<input type="hidden" name="'+
n+'" value="'+opts.extraData[n]+'" />').appendTo(form)[0]);$io.appendTo("body");$io.data("form-plugin-onload",cb);form.submit()}finally{form.setAttribute("action",a);t?form.setAttribute("target",t):$form.removeAttr("target");$(extraInputs).remove()}}if(opts.forceSync)doSubmit();else setTimeout(doSubmit,10);var domCheckCount=100;function cb(){if(cbInvoked)return;var ok=true;try{if(timedOut)throw"timeout";var data,doc;doc=io.contentWindow?io.contentWindow.document:io.contentDocument?io.contentDocument:
io.document;var isXml=opts.dataType=="xml"||doc.XMLDocument||$.isXMLDoc(doc);log("isXml="+isXml);if(!isXml&&(doc.body==null||doc.body.innerHTML=="")){if(--domCheckCount){log("requeing onLoad callback, DOM not available");setTimeout(cb,250);return}log("Could not access iframe DOM after 100 tries.");return}log("response detected");cbInvoked=true;xhr.responseText=doc.body?doc.body.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;xhr.getResponseHeader=function(header){var headers={"content-type":opts.dataType};
return headers[header]};if(opts.dataType=="json"||opts.dataType=="script"){var ta=doc.getElementsByTagName("textarea")[0];if(ta)xhr.responseText=ta.value;else{var pre=doc.getElementsByTagName("pre")[0];if(pre)xhr.responseText=pre.innerHTML}}else if(opts.dataType=="xml"&&!xhr.responseXML&&xhr.responseText!=null)xhr.responseXML=toXml(xhr.responseText);data=$.httpData(xhr,opts.dataType)}catch(e){log("error caught:",e);ok=false;xhr.error=e;$.handleError(opts,xhr,"error",e)}if(ok){opts.success(data,"success");
if(g)$.event.trigger("ajaxSuccess",[xhr,opts])}if(g)$.event.trigger("ajaxComplete",[xhr,opts]);if(g&&!--$.active)$.event.trigger("ajaxStop");if(opts.complete)opts.complete(xhr,ok?"success":"error");setTimeout(function(){$io.removeData("form-plugin-onload");$io.remove();xhr.responseXML=null},100)}function toXml(s,doc){if(window.ActiveXObject){doc=new ActiveXObject("Microsoft.XMLDOM");doc.async="false";doc.loadXML(s)}else doc=(new DOMParser).parseFromString(s,"text/xml");return doc&&doc.documentElement&&
doc.documentElement.tagName!="parsererror"?doc:null}}};$.fn.ajaxForm=function(options){return this.ajaxFormUnbind().bind("submit.form-plugin",function(e){e.preventDefault();$(this).ajaxSubmit(options)}).bind("click.form-plugin",function(e){var target=e.target;var $el=$(target);if(!$el.is(":submit,input:image")){var t=$el.closest(":submit");if(t.length==0)return;target=t[0]}var form=this;form.clk=target;if(target.type=="image")if(e.offsetX!=undefined){form.clk_x=e.offsetX;form.clk_y=e.offsetY}else if(typeof $.fn.offset==
"function"){var offset=$el.offset();form.clk_x=e.pageX-offset.left;form.clk_y=e.pageY-offset.top}else{form.clk_x=e.pageX-target.offsetLeft;form.clk_y=e.pageY-target.offsetTop}setTimeout(function(){form.clk=form.clk_x=form.clk_y=null},100)})};$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};$.fn.formToArray=function(semantic){var a=[];if(this.length==0)return a;var form=this[0];var els=semantic?form.getElementsByTagName("*"):form.elements;if(!els)return a;
for(var i=0,max=els.length;i<max;i++){var el=els[i];var n=el.name;if(!n)continue;if(semantic&&form.clk&&el.type=="image"){if(!el.disabled&&form.clk==el){a.push({name:n,value:$(el).val()});a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})}continue}var v=$.fieldValue(el,true);if(v&&v.constructor==Array)for(var j=0,jmax=v.length;j<jmax;j++)a.push({name:n,value:v[j]});else if(v!==null&&typeof v!="undefined")a.push({name:n,value:v})}if(!semantic&&form.clk){var $input=$(form.clk),input=
$input[0],n=input.name;if(n&&!input.disabled&&input.type=="image"){a.push({name:n,value:$input.val()});a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})}}return a};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic))};$.fn.fieldSerialize=function(successful){var a=[];this.each(function(){var n=this.name;if(!n)return;var v=$.fieldValue(this,successful);if(v&&v.constructor==Array)for(var i=0,max=v.length;i<max;i++)a.push({name:n,value:v[i]});else if(v!==
null&&typeof v!="undefined")a.push({name:this.name,value:v})});return $.param(a)};$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i];var v=$.fieldValue(el,successful);if(v===null||typeof v=="undefined"||v.constructor==Array&&!v.length)continue;v.constructor==Array?$.merge(val,v):val.push(v)}return val};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(typeof successful=="undefined")successful=true;if(successful&&
(!n||el.disabled||t=="reset"||t=="button"||(t=="checkbox"||t=="radio")&&!el.checked||(t=="submit"||t=="image")&&el.form&&el.form.clk!=el||tag=="select"&&el.selectedIndex==-1))return null;if(tag=="select"){var index=el.selectedIndex;if(index<0)return null;var a=[],ops=el.options;var one=t=="select-one";var max=one?index+1:ops.length;for(var i=one?index:0;i<max;i++){var op=ops[i];if(op.selected){var v=op.value;if(!v)v=op.attributes&&op.attributes["value"]&&!op.attributes["value"].specified?op.text:
op.value;if(one)return v;a.push(v)}}return a}return el.value};$.fn.clearForm=function(){return this.each(function(){$("input,select,textarea",this).clearFields()})};$.fn.clearFields=$.fn.clearInputs=function(){return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();if(t=="text"||t=="password"||tag=="textarea")this.value="";else if(t=="checkbox"||t=="radio")this.checked=false;else if(tag=="select")this.selectedIndex=-1})};$.fn.resetForm=function(){return this.each(function(){if(typeof this.reset==
"function"||typeof this.reset=="object"&&!this.reset.nodeType)this.reset()})};$.fn.enable=function(b){if(b==undefined)b=true;return this.each(function(){this.disabled=!b})};$.fn.selected=function(select){if(select==undefined)select=true;return this.each(function(){var t=this.type;if(t=="checkbox"||t=="radio")this.checked=select;else if(this.tagName.toLowerCase()=="option"){var $sel=$(this).parent("select");if(select&&$sel[0]&&$sel[0].type=="select-one")$sel.find("option").selected(false);this.selected=
select}})};function log(){if($.fn.ajaxSubmit.debug){var msg="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log)window.console.log(msg);else if(window.opera&&window.opera.postError)window.opera.postError(msg)}}})(jQuery);(function($){function setFormState(form,state){form.find("input, select, textarea, button").attr("disabled",!state)}$.fn.enableForm=function(){setFormState(this,true)};$.fn.disableForm=function(){setFormState(this,false)};$.fn.prepareFormWidgets=function(selector){selector=selector||"body";function div(cl){return'<div class="'+cl+'" />'}function wrap_input(index,input){if($(input).hasClass("wrapped-input"))return;$(input).addClass("wrapped-input");var input_wrapper=$(input).wrap(div("input-wrapper")).parent();
input_wrapper.prepend(div("icon"));var wrapper=input_wrapper.wrap(div("input form-textbox-wrapper")).parent();wrapper.append(div("right-box"))}$(selector).find("input[type=text]:not(.do_not_wrap), input[type=password], .readonly-textbox").each(wrap_input);$("textarea").each(function(index,textarea){textarea=$(textarea);if(!/^[0-9]+$/.test(textarea.attr("maxlength")))return;var len=parseInt(this.getAttribute("maxlength"),10);var rest=this.getAttribute("id-for-rest");if(rest)rest=$("#"+rest);var func=
function(){var r=len-this.value.length;if(rest)rest.text(r<0?0:r);if(r<0){this.value=this.value.substr(0,len);return false}};textarea.keyup(func).blur(func)})}})(jQuery);(function($){$.fn.jcarousel=function(o){if(typeof o=="string"){var instance=$(this).data("jcarousel"),args=Array.prototype.slice.call(arguments,1);return instance[o].apply(instance,args)}else return this.each(function(){$(this).data("jcarousel",new $jc(this,o))})};var defaults={vertical:false,rtl:false,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,
itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},windowLoaded=false;$(window).bind("load.jcarousel",function(){windowLoaded=true});$.jcarousel=function(e,o){this.options=$.extend({},defaults,o||{});this.locked=false;this.container=null;this.clip=null;this.list=null;
this.buttonNext=null;this.buttonPrev=null;if(!o||o.rtl===undefined)this.options.rtl=($(e).attr("dir")||$("html").attr("dir")||"").toLowerCase()=="rtl";this.wh=!this.options.vertical?"width":"height";this.lt=!this.options.vertical?this.options.rtl?"right":"left":"top";var skin="",split=e.className.split(" ");for(var i=0;i<split.length;i++)if(split[i].indexOf("jcarousel-skin")!=-1){$(e).removeClass(split[i]);skin=split[i];break}if(e.nodeName.toUpperCase()=="UL"||e.nodeName.toUpperCase()=="OL"){this.list=
$(e);this.container=this.list.parent();if(this.container.hasClass("jcarousel-clip")){if(!this.container.parent().hasClass("jcarousel-container"))this.container=this.container.wrap("<div></div>");this.container=this.container.parent()}else if(!this.container.hasClass("jcarousel-container"))this.container=this.list.wrap("<div></div>").parent()}else{this.container=$(e);this.list=this.container.find("ul,ol").eq(0)}if(skin!=""&&this.container.parent()[0].className.indexOf("jcarousel-skin")==-1)this.container.wrap('<div class=" '+
skin+'"></div>');this.clip=this.list.parent();if(!this.clip.length||!this.clip.hasClass("jcarousel-clip"))this.clip=this.list.wrap("<div></div>").parent();this.buttonNext=$(".jcarousel-next",this.container);if(this.buttonNext.size()==0&&this.options.buttonNextHTML!=null)this.buttonNext=this.clip.after(this.options.buttonNextHTML).next();this.buttonNext.addClass(this.className("jcarousel-next"));this.buttonPrev=$(".jcarousel-prev",this.container);if(this.buttonPrev.size()==0&&this.options.buttonPrevHTML!=
null)this.buttonPrev=this.clip.after(this.options.buttonPrevHTML).next();this.buttonPrev.addClass(this.className("jcarousel-prev"));this.clip.addClass(this.className("jcarousel-clip")).css({overflow:"hidden",position:"relative"});this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0);this.container.addClass(this.className("jcarousel-container")).css({position:"relative"});if(!this.options.vertical&&
this.options.rtl)this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var di=this.options.visible!=null?Math.ceil(this.clipping()/this.options.visible):null;var li=this.list.children("li");var self=this;if(li.size()>0){var wh=0,i=this.options.offset;li.each(function(){self.format(this,i++);wh+=self.dimension(this,di)});this.list.css(this.wh,wh+100+"px");if(!o||o.size===undefined)this.options.size=li.size()}this.container.css("display","block");this.buttonNext.css("display","block");
this.buttonPrev.css("display","block");this.funcNext=function(){self.next()};this.funcPrev=function(){self.prev()};this.funcResize=function(){self.reload()};if(this.options.initCallback!=null)this.options.initCallback(this,"init");if(!windowLoaded&&$.browser.safari){this.buttons(false,false);$(window).bind("load.jcarousel",function(){self.setup()})}else this.setup()};var $jc=$.jcarousel;$jc.fn=$jc.prototype={jcarousel:"0.2.5"};$jc.fn.extend=$jc.extend=$.extend;$jc.fn.extend({setup:function(){this.first=
null;this.last=null;this.prevFirst=null;this.prevLast=null;this.animating=false;this.timer=null;this.tail=null;this.inTail=false;if(this.locked)return;this.list.css(this.lt,this.pos(this.options.offset)+"px");var p=this.pos(this.options.start);this.prevFirst=this.prevLast=null;this.animate(p,false);$(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize)},reset:function(){this.list.empty();this.list.css(this.lt,"0px");this.list.css(this.wh,"10px");if(this.options.initCallback!=
null)this.options.initCallback(this,"reset");this.setup()},reload:function(){if(this.tail!=null&&this.inTail)this.list.css(this.lt,$jc.intval(this.list.css(this.lt))+this.tail);this.tail=null;this.inTail=false;if(this.options.reloadCallback!=null)this.options.reloadCallback(this);if(this.options.visible!=null){var self=this;var di=Math.ceil(this.clipping()/this.options.visible),wh=0,lt=0;this.list.children("li").each(function(i){wh+=self.dimension(this,di);if(i+1<self.first)lt=wh});this.list.css(this.wh,
wh+"px");this.list.css(this.lt,-lt+"px")}this.scroll(this.first,false)},lock:function(){this.locked=true;this.buttons()},unlock:function(){this.locked=false;this.buttons()},size:function(s){if(s!=undefined){this.options.size=s;if(!this.locked)this.buttons()}return this.options.size},has:function(i,i2){if(i2==undefined||!i2)i2=i;if(this.options.size!==null&&i2>this.options.size)i2=this.options.size;for(var j=i;j<=i2;j++){var e=this.get(j);if(!e.length||e.hasClass("jcarousel-item-placeholder"))return false}return true},
get:function(i){return $(".jcarousel-item-"+i,this.list)},add:function(i,s){var e=this.get(i),old=0,n=$(s);if(e.length==0){var c,e=this.create(i),j=$jc.intval(i);while(c=this.get(--j))if(j<=0||c.length){j<=0?this.list.prepend(e):c.after(e);break}}else old=this.dimension(e);if(n.get(0).nodeName.toUpperCase()=="LI"){e.replaceWith(n);e=n}else e.empty().append(s);this.format(e.removeClass(this.className("jcarousel-item-placeholder")),i);var di=this.options.visible!=null?Math.ceil(this.clipping()/this.options.visible):
null;var wh=this.dimension(e,di)-old;if(i>0&&i<this.first)this.list.css(this.lt,$jc.intval(this.list.css(this.lt))-wh+"px");this.list.css(this.wh,$jc.intval(this.list.css(this.wh))+wh+"px");return e},remove:function(i){var e=this.get(i);if(!e.length||i>=this.first&&i<=this.last)return;var d=this.dimension(e);if(i<this.first)this.list.css(this.lt,$jc.intval(this.list.css(this.lt))+d+"px");e.remove();this.list.css(this.wh,$jc.intval(this.list.css(this.wh))-d+"px")},next:function(){this.stopAuto();if(this.tail!=
null&&!this.inTail)this.scrollTail(false);else this.scroll((this.options.wrap=="both"||this.options.wrap=="last")&&this.options.size!=null&&this.last==this.options.size?1:this.first+this.options.scroll)},prev:function(){this.stopAuto();if(this.tail!=null&&this.inTail)this.scrollTail(true);else this.scroll((this.options.wrap=="both"||this.options.wrap=="first")&&this.options.size!=null&&this.first==1?this.options.size:this.first-this.options.scroll)},scrollTail:function(b){if(this.locked||this.animating||
!this.tail)return;var pos=$jc.intval(this.list.css(this.lt));!b?pos-=this.tail:pos+=this.tail;this.inTail=!b;this.prevFirst=this.first;this.prevLast=this.last;this.animate(pos)},scroll:function(i,a){if(this.locked||this.animating)return;this.animate(this.pos(i),a)},pos:function(i){var pos=$jc.intval(this.list.css(this.lt));if(this.locked||this.animating)return pos;if(this.options.wrap!="circular")i=i<1?1:this.options.size&&i>this.options.size?this.options.size:i;var back=this.first>i;var f=this.options.wrap!=
"circular"&&this.first<=1?1:this.first;var c=back?this.get(f):this.get(this.last);var j=back?f:f-1;var e=null,l=0,p=false,d=0,g;while(back?--j>=i:++j<i){e=this.get(j);p=!e.length;if(e.length==0){e=this.create(j).addClass(this.className("jcarousel-item-placeholder"));c[back?"before":"after"](e);if(this.first!=null&&this.options.wrap=="circular"&&this.options.size!==null&&(j<=0||j>this.options.size)){g=this.get(this.index(j));if(g.length)e=this.add(j,g.clone(true))}}c=e;d=this.dimension(e);if(p)l+=
d;if(this.first!=null&&(this.options.wrap=="circular"||j>=1&&(this.options.size==null||j<=this.options.size)))pos=back?pos+d:pos-d}var clipping=this.clipping();var cache=[];var visible=0,j=i,v=0;var c=this.get(i-1);while(++visible){e=this.get(j);p=!e.length;if(e.length==0){e=this.create(j).addClass(this.className("jcarousel-item-placeholder"));c.length==0?this.list.prepend(e):c[back?"before":"after"](e);if(this.first!=null&&this.options.wrap=="circular"&&this.options.size!==null&&(j<=0||j>this.options.size)){g=
this.get(this.index(j));if(g.length)e=this.add(j,g.clone(true))}}c=e;var d=this.dimension(e);if(d==0)throw new Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");if(this.options.wrap!="circular"&&this.options.size!==null&&j>this.options.size)cache.push(e);else if(p)l+=d;v+=d;if(v>=clipping)break;j++}for(var x=0;x<cache.length;x++)cache[x].remove();if(l>0){this.list.css(this.wh,this.dimension(this.list)+l+"px");if(back){pos-=l;this.list.css(this.lt,$jc.intval(this.list.css(this.lt))-
l+"px")}}var last=i+visible-1;if(this.options.wrap!="circular"&&this.options.size&&last>this.options.size)last=this.options.size;if(j>last){visible=0,j=last,v=0;while(++visible){var e=this.get(j--);if(!e.length)break;v+=this.dimension(e);if(v>=clipping)break}}var first=last-visible+1;if(this.options.wrap!="circular"&&first<1)first=1;if(this.inTail&&back){pos+=this.tail;this.inTail=false}this.tail=null;if(this.options.wrap!="circular"&&last==this.options.size&&last-visible+1>=1){var m=$jc.margin(this.get(last),
!this.options.vertical?"marginRight":"marginBottom");if(v-m>clipping)this.tail=v-clipping-m}while(i-- >first)pos+=this.dimension(this.get(i));this.prevFirst=this.first;this.prevLast=this.last;this.first=first;this.last=last;return pos},animate:function(p,a){if(this.locked||this.animating)return;this.animating=true;var self=this;var scrolled=function(){self.animating=false;if(p==0)self.list.css(self.lt,0);if(self.options.wrap=="circular"||self.options.wrap=="both"||self.options.wrap=="last"||self.options.size==
null||self.last<self.options.size)self.startAuto();self.buttons();self.notify("onAfterAnimation");if(self.options.wrap=="circular"&&self.options.size!==null)for(var i=self.prevFirst;i<=self.prevLast;i++)if(i!==null&&!(i>=self.first&&i<=self.last)&&(i<1||i>self.options.size))self.remove(i)};this.notify("onBeforeAnimation");if(!this.options.animation||a==false){this.list.css(this.lt,p+"px");scrolled()}else{var o=!this.options.vertical?this.options.rtl?{"right":p}:{"left":p}:{"top":p};this.list.animate(o,
this.options.animation,this.options.easing,scrolled)}},startAuto:function(s){if(s!=undefined)this.options.auto=s;if(this.options.auto==0)return this.stopAuto();if(this.timer!=null)return;var self=this;this.timer=setTimeout(function(){self.next()},this.options.auto*1E3)},stopAuto:function(){if(this.timer==null)return;clearTimeout(this.timer);this.timer=null},buttons:function(n,p){if(n==undefined||n==null){var n=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="first"||this.options.size==
null||this.last<this.options.size);if(!this.locked&&(!this.options.wrap||this.options.wrap=="first")&&this.options.size!=null&&this.last>=this.options.size)n=this.tail!=null&&!this.inTail}if(p==undefined||p==null){var p=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="last"||this.first>1);if(!this.locked&&(!this.options.wrap||this.options.wrap=="last")&&this.options.size!=null&&this.first==1)p=this.tail!=null&&this.inTail}var self=this;this.buttonNext[n?"bind":"unbind"](this.options.buttonNextEvent+
".jcarousel",this.funcNext)[n?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",n?false:true);this.buttonPrev[p?"bind":"unbind"](this.options.buttonPrevEvent+".jcarousel",this.funcPrev)[p?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",p?false:true);if(this.options.buttonNextCallback!=null&&this.buttonNext.data("jcarouselstate")!=n)this.buttonNext.each(function(){self.options.buttonNextCallback(self,this,n)}).data("jcarouselstate",
n);if(this.options.buttonPrevCallback!=null&&this.buttonPrev.data("jcarouselstate")!=p)this.buttonPrev.each(function(){self.options.buttonPrevCallback(self,this,p)}).data("jcarouselstate",p)},notify:function(evt){var state=this.prevFirst==null?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",evt,state);if(this.prevFirst!==this.first){this.callback("itemFirstInCallback",evt,state,this.first);this.callback("itemFirstOutCallback",evt,state,this.prevFirst)}if(this.prevLast!==
this.last){this.callback("itemLastInCallback",evt,state,this.last);this.callback("itemLastOutCallback",evt,state,this.prevLast)}this.callback("itemVisibleInCallback",evt,state,this.first,this.last,this.prevFirst,this.prevLast);this.callback("itemVisibleOutCallback",evt,state,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(cb,evt,state,i1,i2,i3,i4){if(this.options[cb]==undefined||typeof this.options[cb]!="object"&&evt!="onAfterAnimation")return;var callback=typeof this.options[cb]==
"object"?this.options[cb][evt]:this.options[cb];if(!$.isFunction(callback))return;var self=this;if(i1===undefined)callback(self,state,evt);else if(i2===undefined)this.get(i1).each(function(){callback(self,this,i1,state,evt)});else for(var i=i1;i<=i2;i++)if(i!==null&&!(i>=i3&&i<=i4))this.get(i).each(function(){callback(self,this,i,state,evt)})},create:function(i){return this.format("<li></li>",i)},format:function(e,i){var e=$(e),split=e.get(0).className.split(" ");for(var j=0;j<split.length;j++)if(split[j].indexOf("jcarousel-")!=
-1)e.removeClass(split[j]);e.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+i)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",i);return e},className:function(c){return c+" "+c+(!this.options.vertical?"-horizontal":"-vertical")},dimension:function(e,d){var el=e.jquery!=undefined?e[0]:e;var old=!this.options.vertical?(el.offsetWidth||$jc.intval(this.options.itemFallbackDimension))+$jc.margin(el,"marginLeft")+$jc.margin(el,
"marginRight"):(el.offsetHeight||$jc.intval(this.options.itemFallbackDimension))+$jc.margin(el,"marginTop")+$jc.margin(el,"marginBottom");if(d==undefined||old==d)return old;var w=!this.options.vertical?d-$jc.margin(el,"marginLeft")-$jc.margin(el,"marginRight"):d-$jc.margin(el,"marginTop")-$jc.margin(el,"marginBottom");$(el).css(this.wh,w+"px");return this.dimension(el)},clipping:function(){return!this.options.vertical?this.clip[0].offsetWidth-$jc.intval(this.clip.css("borderLeftWidth"))-$jc.intval(this.clip.css("borderRightWidth")):
this.clip[0].offsetHeight-$jc.intval(this.clip.css("borderTopWidth"))-$jc.intval(this.clip.css("borderBottomWidth"))},index:function(i,s){if(s==undefined)s=this.options.size;return Math.round(((i-1)/s-Math.floor((i-1)/s))*s)+1}});$jc.extend({defaults:function(d){return $.extend(defaults,d||{})},margin:function(e,p){if(!e)return 0;var el=e.jquery!=undefined?e[0]:e;if(p=="marginRight"&&$.browser.safari){var old={"display":"block","float":"none","width":"auto"},oWidth,oWidth2;$.swap(el,old,function(){oWidth=
el.offsetWidth});old["marginRight"]=0;$.swap(el,old,function(){oWidth2=el.offsetWidth});return oWidth2-oWidth}return $jc.intval($.css(el,p))},intval:function(v){v=parseInt(v);return isNaN(v)?0:v}})})(jQuery);$.defineTag=function(tag){$[tag.toUpperCase()]=function(){return $._createNode(tag,arguments)}};(function(){var tags=["a","br","button","canvas","div","fieldset","form","h1","h2","h3","hr","img","input","label","legend","li","ol","optgroup","option","p","pre","select","span","strong","table","tbody","td","textarea","tfoot","th","thead","tr","tt","ul","dl","dt","dd"];for(var i=tags.length-1;i>=0;i--)$.defineTag(tags[i])})();$.NBSP="\u00a0";
$._createNode=function(tag,args){var fix={"class":"className","Class":"className"};var e;try{var attrs=args[0]||{};e=document.createElement(tag);for(var attr in attrs){var a=fix[attr]||attr;e[a]=attrs[attr]}for(var i=1;i<args.length;i++){var arg=args[i];if(arg==null)continue;if(arg.constructor!=Array)append(arg);else for(var j=0;j<arg.length;j++)append(arg[j])}}catch(ex){alert("Cannot create <"+tag+"> element:\n"+args.toSource()+"\n"+args);e=null}function append(arg){if(arg==null)return;var c=arg.constructor;
switch(typeof arg){case "number":arg=""+arg;case "string":arg=document.createTextNode(arg)}e.appendChild(arg)}return e};(function($){$.fn.nivoSlider=function(options){var settings=$.extend({},$.fn.nivoSlider.defaults,options);return this.each(function(){var vars={currentSlide:0,currentImage:"",totalSlides:0,randAnim:"",running:false,paused:false,stop:false};var slider=$(this);slider.data("nivo:vars",vars);slider.css("position","relative");slider.addClass("nivoSlider");var kids=slider.children();kids.each(function(){var child=$(this);var link="";if(!child.is("img")){if(child.is("a")){child.addClass("nivo-imageLink");
link=child}child=child.find("img:first")}var childWidth=child.width();if(childWidth==0)childWidth=child.attr("width");var childHeight=child.height();if(childHeight==0)childHeight=child.attr("height");if(childWidth>slider.width())slider.width(childWidth);if(childHeight>slider.height())slider.height(childHeight);if(link!="")link.css("display","none");child.css("display","none");vars.totalSlides++});if(settings.startSlide>0){if(settings.startSlide>=vars.totalSlides)settings.startSlide=vars.totalSlides-
1;vars.currentSlide=settings.startSlide}if($(kids[vars.currentSlide]).is("img"))vars.currentImage=$(kids[vars.currentSlide]);else vars.currentImage=$(kids[vars.currentSlide]).find("img:first");if($(kids[vars.currentSlide]).is("a"))$(kids[vars.currentSlide]).css("display","block");slider.css("background","url("+vars.currentImage.attr("src")+") no-repeat");for(var i=0;i<settings.slices;i++){var sliceWidth=Math.round(slider.width()/settings.slices);if(i==settings.slices-1)slider.append($('<div class="nivo-slice"></div>').css({left:sliceWidth*
i+"px",width:slider.width()-sliceWidth*i+"px"}));else slider.append($('<div class="nivo-slice"></div>').css({left:sliceWidth*i+"px",width:sliceWidth+"px"}))}slider.append($('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:settings.captionOpacity}));if(vars.currentImage.attr("title")!=""){var title=vars.currentImage.attr("title");if(title.substr(0,1)=="#")title=$(title).html();$(".nivo-caption p",slider).html(title);$(".nivo-caption",slider).fadeIn(settings.animSpeed)}var timer=
0;if(!settings.manualAdvance&&kids.length>1)timer=setInterval(function(){nivoRun(slider,kids,settings,false)},settings.pauseTime);if(settings.directionNav){slider.append('<div class="nivo-directionNav"><a class="nivo-prevNav">Prev</a><a class="nivo-nextNav">Next</a></div>');if(settings.directionNavHide){$(".nivo-directionNav",slider).hide();slider.hover(function(){$(".nivo-directionNav",slider).show()},function(){$(".nivo-directionNav",slider).hide()})}$("a.nivo-prevNav",slider).live("click",function(){if(vars.running)return false;
clearInterval(timer);timer="";vars.currentSlide-=2;nivoRun(slider,kids,settings,"prev")});$("a.nivo-nextNav",slider).live("click",function(){if(vars.running)return false;clearInterval(timer);timer="";nivoRun(slider,kids,settings,"next")})}if(settings.controlNav){var nivoControl=$('<div class="nivo-controlNav"></div>');slider.append(nivoControl);for(var i=0;i<kids.length;i++)if(settings.controlNavThumbs){var child=kids.eq(i);if(!child.is("img"))child=child.find("img:first");if(settings.controlNavThumbsFromRel)nivoControl.append('<a class="nivo-control" rel="'+
i+'"><img src="'+child.attr("rel")+'" alt="" /></a>');else nivoControl.append('<a class="nivo-control" rel="'+i+'"><img src="'+child.attr("src").replace(settings.controlNavThumbsSearch,settings.controlNavThumbsReplace)+'" alt="" /></a>')}else nivoControl.append('<a class="nivo-control" rel="'+i+'">'+(i+1)+"</a>");$(".nivo-controlNav a:eq("+vars.currentSlide+")",slider).addClass("active");$(".nivo-controlNav a",slider).live("click",function(){if(vars.running)return false;if($(this).hasClass("active"))return false;
clearInterval(timer);timer="";slider.css("background","url("+vars.currentImage.attr("src")+") no-repeat");vars.currentSlide=$(this).attr("rel")-1;nivoRun(slider,kids,settings,"control")})}if(settings.keyboardNav)$(window).keypress(function(event){if(event.keyCode=="37"){if(vars.running)return false;clearInterval(timer);timer="";vars.currentSlide-=2;nivoRun(slider,kids,settings,"prev")}if(event.keyCode=="39"){if(vars.running)return false;clearInterval(timer);timer="";nivoRun(slider,kids,settings,"next")}});
if(settings.pauseOnHover)slider.hover(function(){vars.paused=true;clearInterval(timer);timer=""},function(){vars.paused=false;if(timer==""&&!settings.manualAdvance)timer=setInterval(function(){nivoRun(slider,kids,settings,false)},settings.pauseTime)});slider.bind("nivo:animFinished",function(){vars.running=false;$(kids).each(function(){if($(this).is("a"))$(this).css("display","none")});if($(kids[vars.currentSlide]).is("a"))$(kids[vars.currentSlide]).css("display","block");if(timer==""&&!vars.paused&&
!settings.manualAdvance)timer=setInterval(function(){nivoRun(slider,kids,settings,false)},settings.pauseTime);settings.afterChange.call(this)})});function nivoRun(slider,kids,settings,nudge){var vars=slider.data("nivo:vars");if((!vars||vars.stop)&&!nudge)return false;settings.beforeChange.call(this);if(!nudge)slider.css("background","url("+vars.currentImage.attr("src")+") no-repeat");else{if(nudge=="prev")slider.css("background","url("+vars.currentImage.attr("src")+") no-repeat");if(nudge=="next")slider.css("background",
"url("+vars.currentImage.attr("src")+") no-repeat")}vars.currentSlide++;if(vars.currentSlide==vars.totalSlides){vars.currentSlide=0;settings.slideshowEnd.call(this)}if(vars.currentSlide<0)vars.currentSlide=vars.totalSlides-1;if($(kids[vars.currentSlide]).is("img"))vars.currentImage=$(kids[vars.currentSlide]);else vars.currentImage=$(kids[vars.currentSlide]).find("img:first");if(settings.controlNav){$(".nivo-controlNav a",slider).removeClass("active");$(".nivo-controlNav a:eq("+vars.currentSlide+")",
slider).addClass("active")}if(vars.currentImage.attr("title")!=""){var title=vars.currentImage.attr("title");if(title.substr(0,1)=="#")title=$(title).html();if($(".nivo-caption",slider).css("display")=="block")$(".nivo-caption p",slider).fadeOut(settings.animSpeed,function(){$(this).html(title);$(this).fadeIn(settings.animSpeed)});else $(".nivo-caption p",slider).html(title);$(".nivo-caption",slider).fadeIn(settings.animSpeed)}else $(".nivo-caption",slider).fadeOut(settings.animSpeed);var i=0;$(".nivo-slice",
slider).each(function(){var sliceWidth=Math.round(slider.width()/settings.slices);$(this).css({height:"0px",opacity:"0",background:"url("+vars.currentImage.attr("src")+") no-repeat -"+(sliceWidth+i*sliceWidth-sliceWidth)+"px 0%"});i++});if(settings.effect=="random"){var anims=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade");vars.randAnim=anims[Math.floor(Math.random()*(anims.length+1))];if(vars.randAnim==undefined)vars.randAnim=
"fade"}if(settings.effect.indexOf(",")!=-1){var anims=settings.effect.split(",");vars.randAnim=$.trim(anims[Math.floor(Math.random()*anims.length)])}vars.running=true;if(settings.effect=="sliceDown"||settings.effect=="sliceDownRight"||vars.randAnim=="sliceDownRight"||settings.effect=="sliceDownLeft"||vars.randAnim=="sliceDownLeft"){var timeBuff=0;var i=0;var slices=$(".nivo-slice",slider);if(settings.effect=="sliceDownLeft"||vars.randAnim=="sliceDownLeft")slices=$(".nivo-slice",slider)._reverse();
slices.each(function(){var slice=$(this);slice.css("top","0px");if(i==settings.slices-1)setTimeout(function(){slice.animate({height:"100%",opacity:"1.0"},settings.animSpeed,"",function(){slider.trigger("nivo:animFinished")})},100+timeBuff);else setTimeout(function(){slice.animate({height:"100%",opacity:"1.0"},settings.animSpeed)},100+timeBuff);timeBuff+=50;i++})}else if(settings.effect=="sliceUp"||settings.effect=="sliceUpRight"||vars.randAnim=="sliceUpRight"||settings.effect=="sliceUpLeft"||vars.randAnim==
"sliceUpLeft"){var timeBuff=0;var i=0;var slices=$(".nivo-slice",slider);if(settings.effect=="sliceUpLeft"||vars.randAnim=="sliceUpLeft")slices=$(".nivo-slice",slider)._reverse();slices.each(function(){var slice=$(this);slice.css("bottom","0px");if(i==settings.slices-1)setTimeout(function(){slice.animate({height:"100%",opacity:"1.0"},settings.animSpeed,"",function(){slider.trigger("nivo:animFinished")})},100+timeBuff);else setTimeout(function(){slice.animate({height:"100%",opacity:"1.0"},settings.animSpeed)},
100+timeBuff);timeBuff+=50;i++})}else if(settings.effect=="sliceUpDown"||settings.effect=="sliceUpDownRight"||vars.randAnim=="sliceUpDown"||settings.effect=="sliceUpDownLeft"||vars.randAnim=="sliceUpDownLeft"){var timeBuff=0;var i=0;var v=0;var slices=$(".nivo-slice",slider);if(settings.effect=="sliceUpDownLeft"||vars.randAnim=="sliceUpDownLeft")slices=$(".nivo-slice",slider)._reverse();slices.each(function(){var slice=$(this);if(i==0){slice.css("top","0px");i++}else{slice.css("bottom","0px");i=0}if(v==
settings.slices-1)setTimeout(function(){slice.animate({height:"100%",opacity:"1.0"},settings.animSpeed,"",function(){slider.trigger("nivo:animFinished")})},100+timeBuff);else setTimeout(function(){slice.animate({height:"100%",opacity:"1.0"},settings.animSpeed)},100+timeBuff);timeBuff+=50;v++})}else if(settings.effect=="fold"||vars.randAnim=="fold"){var timeBuff=0;var i=0;$(".nivo-slice",slider).each(function(){var slice=$(this);var origWidth=slice.width();slice.css({top:"0px",height:"100%",width:"0px"});
if(i==settings.slices-1)setTimeout(function(){slice.animate({width:origWidth,opacity:"1.0"},settings.animSpeed,"",function(){slider.trigger("nivo:animFinished")})},100+timeBuff);else setTimeout(function(){slice.animate({width:origWidth,opacity:"1.0"},settings.animSpeed)},100+timeBuff);timeBuff+=50;i++})}else if(settings.effect=="fade"||vars.randAnim=="fade"){var i=0;$(".nivo-slice",slider).each(function(){$(this).css("height","100%");if(i==settings.slices-1)$(this).animate({opacity:"1.0"},settings.animSpeed*
2,"",function(){slider.trigger("nivo:animFinished")});else $(this).animate({opacity:"1.0"},settings.animSpeed*2);i++})}}};$.fn.nivoSlider.defaults={effect:"random",slices:15,animSpeed:500,pauseTime:3E3,startSlide:0,directionNav:true,directionNavHide:true,controlNav:true,controlNavThumbs:false,controlNavThumbsFromRel:false,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:true,pauseOnHover:true,manualAdvance:false,captionOpacity:0.8,beforeChange:function(){},afterChange:function(){},
slideshowEnd:function(){}};$.fn._reverse=[].reverse})(jQuery);(function(){function g(o){console.log("$f.fireEvent",[].slice.call(o))}function k(q){if(!q||typeof q!="object")return q;var o=new q.constructor;for(var p in q)if(q.hasOwnProperty(p))o[p]=k(q[p]);return o}function m(t,q){if(!t)return;var o,p=0,r=t.length;if(r===undefined)for(o in t){if(q.call(t[o],o,t[o])===false)break}else for(var s=t[0];p<r&&q.call(s,p,s)!==false;s=t[++p]);return t}function c(o){return document.getElementById(o)}function i(q,p,o){if(typeof p!="object")return q;if(q&&p)m(p,function(r,
s){if(!o||typeof s!="function")q[r]=s});return q}function n(s){var q=s.indexOf(".");if(q!=-1){var p=s.slice(0,q)||"*";var o=s.slice(q+1,s.length);var r=[];m(document.getElementsByTagName(p),function(){if(this.className&&this.className.indexOf(o)!=-1)r.push(this)});return r}}function f(o){o=o||window.event;if(o.preventDefault){o.stopPropagation();o.preventDefault()}else{o.returnValue=false;o.cancelBubble=true}return false}function j(q,o,p){q[o]=q[o]||[];q[o].push(p)}function e(){return"_"+(""+Math.random()).slice(2,
10)}var h=function(t,r,s){var q=this,p={},u={};q.index=r;if(typeof t=="string")t={url:t};i(this,t,true);m("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop".split(","),function(){var v="on"+this;if(v.indexOf("*")!=-1){v=v.slice(0,v.length-1);var w="onBefore"+v.slice(2);q[w]=function(x){j(u,w,x);return q}}q[v]=function(x){j(u,v,x);return q};if(r==-1){if(q[w])s[w]=q[w];if(q[v])s[v]=q[v]}});i(this,{onCuepoint:function(x,w){if(arguments.length==1){p.embedded=
[null,x];return q}if(typeof x=="number")x=[x];var v=e();p[v]=[x,w];if(s.isLoaded())s._api().fp_addCuepoints(x,r,v);return q},update:function(w){i(q,w);if(s.isLoaded())s._api().fp_updateClip(w,r);var v=s.getConfig();var x=r==-1?v.clip:v.playlist[r];i(x,w,true)},_fireEvent:function(v,y,w,A){if(v=="onLoad"){m(p,function(B,C){if(C[0])s._api().fp_addCuepoints(C[0],r,B)});return false}A=A||q;if(v=="onCuepoint"){var z=p[y];if(z)return z[1].call(s,A,w)}if(y&&"onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(v)!=
-1){i(A,y);if(y.metaData)if(!A.duration)A.duration=y.metaData.duration;else A.fullDuration=y.metaData.duration}var x=true;m(u[v],function(){x=this.call(s,A,y,w)});return x}});if(t.onCuepoint){var o=t.onCuepoint;q.onCuepoint.apply(q,typeof o=="function"?[o]:o);delete t.onCuepoint}m(t,function(v,w){if(typeof w=="function"){j(u,v,w);delete t[v]}});if(r==-1)s.onCuepoint=this.onCuepoint};var l=function(p,r,q,t){var o=this,s={},u=false;if(t)i(s,t);m(r,function(v,w){if(typeof w=="function"){s[v]=w;delete r[v]}});
i(this,{animate:function(y,z,x){if(!y)return o;if(typeof z=="function"){x=z;z=500}if(typeof y=="string"){var w=y;y={};y[w]=z;z=500}if(x){var v=e();s[v]=x}if(z===undefined)z=500;r=q._api().fp_animate(p,y,z,v);return o},css:function(w,x){if(x!==undefined){var v={};v[w]=x;w=v}r=q._api().fp_css(p,w);i(o,r);return o},show:function(){this.display="block";q._api().fp_showPlugin(p);return o},hide:function(){this.display="none";q._api().fp_hidePlugin(p);return o},toggle:function(){this.display=q._api().fp_togglePlugin(p);
return o},fadeTo:function(y,x,w){if(typeof x=="function"){w=x;x=500}if(w){var v=e();s[v]=w}this.display=q._api().fp_fadeTo(p,y,x,v);this.opacity=y;return o},fadeIn:function(w,v){return o.fadeTo(1,w,v)},fadeOut:function(w,v){return o.fadeTo(0,w,v)},getName:function(){return p},getPlayer:function(){return q},_fireEvent:function(w,v,x){if(w=="onUpdate"){var z=q._api().fp_getPlugin(p);if(!z)return;i(o,z);delete o.methods;if(!u){m(z.methods,function(){var B=""+this;o[B]=function(){var C=[].slice.call(arguments);
var D=q._api().fp_invoke(p,B,C);return D==="undefined"||D===undefined?o:D}});u=true}}var A=s[w];if(A){var y=A.apply(o,v);if(w.slice(0,1)=="_")delete s[w];return y}return o}})};function b(q,F,t){var w=this,v=null,C=false,u,s,E=[],y={},x={},D,r,p,B,o,z;i(w,{id:function(){return D},isLoaded:function(){return v!==null&&v.fp_play!==undefined&&!C},getParent:function(){return q},hide:function(G){if(G)q.style.height="0px";if(w.isLoaded())v.style.height="0px";return w},show:function(){q.style.height=z+"px";
if(w.isLoaded())v.style.height=o+"px";return w},isHidden:function(){return w.isLoaded()&&parseInt(v.style.height,10)===0},load:function(I){if(!w.isLoaded()&&w._fireEvent("onBeforeLoad")!==false){var G=function(){u=q.innerHTML;if(u&&!flashembed.isSupported(F.version))q.innerHTML="";flashembed(q,F,{config:t});if(I){I.cached=true;j(x,"onLoad",I)}};var H=0;m(a,function(){this.unload(function(J){if(++H==a.length)G()})})}return w},unload:function(I){if(this.isFullscreen()&&/WebKit/i.test(navigator.userAgent)){if(I)I(false);
return w}if(u.replace(/\s/g,"")!==""){if(w._fireEvent("onBeforeUnload")===false){if(I)I(false);return w}C=true;try{if(v){v.fp_close();w._fireEvent("onUnload")}}catch(G){}var H=function(){v=null;q.innerHTML=u;C=false;if(I)I(true)};setTimeout(H,50)}else if(I)I(false);return w},getClip:function(G){if(G===undefined)G=B;return E[G]},getCommonClip:function(){return s},getPlaylist:function(){return E},getPlugin:function(G){var I=y[G];if(!I&&w.isLoaded()){var H=w._api().fp_getPlugin(G);if(H){I=new l(G,H,
w);y[G]=I}}return I},getScreen:function(){return w.getPlugin("screen")},getControls:function(){return w.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return w.getPlugin("logo")._fireEvent("onUpdate")}catch(G){}},getPlay:function(){return w.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(G){return G?k(t):t},getFlashParams:function(){return F},loadPlugin:function(J,I,L,K){if(typeof L=="function"){K=L;L={}}var H=K?e():"_";w._api().fp_loadPlugin(J,I,L,H);var G={};G[H]=
K;var M=new l(J,null,w,G);y[J]=M;return M},getState:function(){return w.isLoaded()?v.fp_getState():-1},play:function(H,G){var I=function(){if(H!==undefined)w._api().fp_play(H,G);else w._api().fp_play()};if(w.isLoaded())I();else if(C)setTimeout(function(){w.play(H,G)},50);else w.load(function(){I()});return w},getVersion:function(){var H="flowplayer.js 3.2.3";if(w.isLoaded()){var G=v.fp_getVersion();G.push(H);return G}return H},_api:function(){if(!w.isLoaded())throw"Flowplayer "+w.id()+" not loaded when calling an API method";
return v},setClip:function(G){w.setPlaylist([G]);return w},getIndex:function(){return p}});m("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut".split(","),function(){var G="on"+this;if(G.indexOf("*")!=-1){G=G.slice(0,G.length-1);var H="onBefore"+G.slice(2);w[H]=function(I){j(x,H,I);return w}}w[G]=function(I){j(x,G,I);return w}});m("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled".split(","),
function(){var G=this;w[G]=function(I,H){if(!w.isLoaded())return w;var J=null;if(I!==undefined&&H!==undefined)J=v["fp_"+G](I,H);else J=I===undefined?v["fp_"+G]():v["fp_"+G](I);return J==="undefined"||J===undefined?w:J}});w._fireEvent=function(P){if(typeof P=="string")P=[P];var Q=P[0],N=P[1],L=P[2],K=P[3],J=0;if(t.debug)g(P);if(!w.isLoaded()&&Q=="onLoad"&&N=="player"){v=v||c(r);o=v.clientHeight;m(E,function(){this._fireEvent("onLoad")});m(y,function(R,S){S._fireEvent("onUpdate")});s._fireEvent("onLoad")}if(Q==
"onLoad"&&N!="player")return;if(Q=="onError")if(typeof N=="string"||typeof N=="number"&&typeof L=="number"){N=L;L=K}if(Q=="onContextMenu"){m(t.contextMenu[N],function(R,S){S.call(w)});return}if(Q=="onPluginEvent"||Q=="onBeforePluginEvent"){var G=N.name||N;var H=y[G];if(H){H._fireEvent("onUpdate",N);return H._fireEvent(L,P.slice(3))}return}if(Q=="onPlaylistReplace"){E=[];var M=0;m(N,function(){E.push(new h(this,M++,w))})}if(Q=="onClipAdd"){if(N.isInStream)return;N=new h(N,L,w);E.splice(L,0,N);for(J=
L+1;J<E.length;J++)E[J].index++}var O=true;if(typeof N=="number"&&N<E.length){B=N;var I=E[N];if(I)O=I._fireEvent(Q,L,K);if(!I||O!==false)O=s._fireEvent(Q,L,K,I)}m(x[Q],function(){O=this.call(w,N,L);if(this.cached)x[Q].splice(J,1);if(O===false)return false;J++});return O};function A(){if($f(q)){$f(q).getParent().innerHTML="";p=$f(q).getIndex();a[p]=w}else{a.push(w);p=a.length-1}z=parseInt(q.style.height,10)||q.clientHeight;D=q.id||"fp"+e();r=F.id||D+"_api";F.id=r;t.playerId=D;if(typeof t=="string")t=
{clip:{url:t}};if(typeof t.clip=="string")t.clip={url:t.clip};t.clip=t.clip||{};if(q.getAttribute("href",2)&&!t.clip.url)t.clip.url=q.getAttribute("href",2);s=new h(t.clip,-1,w);t.playlist=t.playlist||[t.clip];var H=0;m(t.playlist,function(){var J=this;if(typeof J=="object"&&J.length)J={url:""+J};m(t.clip,function(K,L){if(L!==undefined&&J[K]===undefined&&typeof L!="function")J[K]=L});t.playlist[H]=J;J=new h(J,H,w);E.push(J);H++});m(t,function(J,K){if(typeof K=="function"){if(s[J])s[J](K);else j(x,
J,K);delete t[J]}});m(t.plugins,function(J,K){if(K)y[J]=new l(J,K,w)});if(!t.plugins||t.plugins.controls===undefined)y.controls=new l("controls",null,w);y.canvas=new l("canvas",null,w);u=q.innerHTML;function I(J){if(/iPad|iPhone/.test(navigator.userAgent)&&!/.flv$/i.test(E[0].url)&&w.ipad===undefined)return true;if(!w.isLoaded()&&w._fireEvent("onBeforeClick")!==false)w.load();return f(J)}function G(){if(u.replace(/\s/g,"")!=="")if(q.addEventListener)q.addEventListener("click",I,false);else{if(q.attachEvent)q.attachEvent("onclick",
I)}else{if(q.addEventListener)q.addEventListener("click",f,false);w.load()}}setTimeout(G,0)}if(typeof q=="string")flashembed.domReady(function(){var G=c(q);if(!G)throw"Flowplayer cannot access element: "+q;else{q=G;A()}});else A()}var a=[];function d(o){this.length=o.length;this.each=function(p){m(o,p)};this.size=function(){return o.length}}window.flowplayer=window.$f=function(){var p=null;var o=arguments[0];if(!arguments.length){m(a,function(){if(this.isLoaded()){p=this;return false}});return p||
a[0]}if(arguments.length==1)if(typeof o=="number")return a[o];else{if(o=="*")return new d(a);m(a,function(){if(this.id()==o.id||this.id()==o||this.getParent()==o){p=this;return false}});return p}if(arguments.length>1){var t=arguments[1],q=arguments.length==3?arguments[2]:{};if(typeof t=="string")t={src:t};t=i({bgcolor:"#000000",version:[9,0],expressInstall:"http://static.flowplayer.org/swf/expressinstall.swf",cachebusting:true},t);if(typeof o=="string")if(o.indexOf(".")!=-1){var s=[];m(n(o),function(){s.push(new b(this,
k(t),k(q)))});return new d(s)}else{var r=c(o);return new b(r!==null?r:o,t,q)}else if(o)return new b(o,t,q)}return null};i(window.$f,{fireEvent:function(){var o=[].slice.call(arguments);var q=$f(o[0]);return q?q._fireEvent(o.slice(1)):null},addPlugin:function(o,p){b.prototype[o]=p;return $f},each:m,extend:i});if(typeof jQuery=="function")jQuery.fn.flowplayer=function(q,p){if(!arguments.length||typeof arguments[0]=="number"){var o=[];this.each(function(){var r=$f(this);if(r)o.push(r)});return arguments.length?
o[arguments[0]]:new d(o)}return this.each(function(){$f(this,k(q),p?k(p):{})})}})();
(function(){var h=document.all,j="http://www.adobe.com/go/getflashplayer",c=typeof jQuery=="function",e=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,b={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:false,cachebusting:false};if(window.attachEvent)window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}});function i(m,l){if(l)for(var f in l)if(l.hasOwnProperty(f))m[f]=
l[f];return m}function a(f,n){var m=[];for(var l in f)if(f.hasOwnProperty(l))m[l]=n(f[l]);return m}window.flashembed=function(f,m,l){if(typeof f=="string")f=document.getElementById(f.replace("#",""));if(!f)return;if(typeof m=="string")m={src:m};return new d(f,i(i({},b),m),l)};var g=i(window.flashembed,{conf:b,getVersion:function(){var f;try{f=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(n){try{var l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");f=l&&l.GetVariable("$version")}catch(m){}}f=
e.exec(f);return f?[f[1],f[3]]:[0,0]},asString:function(l){if(l===null||l===undefined)return null;var f=typeof l;if(f=="object"&&l.push)f="array";switch(f){case "string":l=l.replace(new RegExp('(["\\\\])',"g"),"\\$1");l=l.replace(/^\s?(\d+\.?\d+)%/,"$1pct");return'"'+l+'"';case "array":return"["+a(l,function(o){return g.asString(o)}).join(",")+"]";case "function":return'"function()"';case "object":var m=[];for(var n in l)if(l.hasOwnProperty(n))m.push('"'+n+'":'+g.asString(l[n]));return"{"+m.join(",")+
"}"}return String(l).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(o,l){o=i({},o);var n='<object width="'+o.width+'" height="'+o.height+'" id="'+o.id+'" name="'+o.id+'"';if(o.cachebusting)o.src+=(o.src.indexOf("?")!=-1?"&":"?")+Math.random();if(o.w3c||!h)n+=' data="'+o.src+'" type="application/x-shockwave-flash"';else n+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';n+=">";if(o.w3c||h)n+='<param name="movie" value="'+o.src+'" />';o.width=o.height=o.id=o.w3c=o.src=null;o.onFail=
o.version=o.expressInstall=null;for(var m in o)if(o[m])n+='<param name="'+m+'" value="'+o[m]+'" />';var p="";if(l){for(var f in l)if(l[f]){var q=l[f];p+=f+"="+(/function|object/.test(typeof q)?g.asString(q):q)+"&"}p=p.slice(0,-1);n+='<param name="flashvars" value=\''+p+"' />"}n+="</object>";return n},isSupported:function(f){return k[0]>f[0]||k[0]==f[0]&&k[1]>=f[1]}});var k=g.getVersion();function d(f,n,m){if(g.isSupported(n.version))f.innerHTML=g.getHTML(n,m);else if(n.expressInstall&&g.isSupported([6,
65]))f.innerHTML=g.getHTML(i(n,{src:n.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else{if(!f.innerHTML.replace(/\s/g,"")){f.innerHTML="<h2>Flash version "+n.version+" or greater is required</h2><h3>"+(k[0]>0?"Your version is "+k:"You have no flash plugin installed")+"</h3>"+(f.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+j+"'>here</a></p>");if(f.tagName=="A")f.onclick=function(){location.href=
j}}if(n.onFail){var l=n.onFail.call(this);if(typeof l=="string")f.innerHTML=l}}if(h)window[n.id]=document.getElementById(n.id);i(this,{getRoot:function(){return f},getOptions:function(){return n},getConf:function(){return m},getApi:function(){return f.firstChild}})}if(c){jQuery.tools=jQuery.tools||{version:"3.2.3"};jQuery.tools.flashembed={conf:b};jQuery.fn.flashembed=function(l,f){return this.each(function(){$(this).data("flashembed",flashembed(this,l,f))})}}})();(function($){$.fn.editable=function(target,options){if("disable"==target){$(this).data("disabled.editable",true);return}if("enable"==target){$(this).data("disabled.editable",false);return}if("destroy"==target){$(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");return}var settings=$.extend({},$.fn.editable.defaults,{target:target},options);var plugin=$.editable.types[settings.type].plugin||function(){};var submit=$.editable.types[settings.type].submit||
function(){};var buttons=$.editable.types[settings.type].buttons||$.editable.types["defaults"].buttons;var content=$.editable.types[settings.type].content||$.editable.types["defaults"].content;var element=$.editable.types[settings.type].element||$.editable.types["defaults"].element;var reset=$.editable.types[settings.type].reset||$.editable.types["defaults"].reset;var callback=settings.callback||function(){};var onedit=settings.onedit||function(){};var onsubmit=settings.onsubmit||function(){};var onreset=
settings.onreset||function(){};var onerror=settings.onerror||reset;if(settings.tooltip)$(this).attr("title",settings.tooltip);settings.autowidth="auto"==settings.width;settings.autoheight="auto"==settings.height;return this.each(function(){var self=this;var savedwidth=$(self).width();var savedheight=$(self).height();$(this).data("event.editable",settings.event);if(!$.trim($(this).html()))$(this).html(settings.placeholder);$(this).bind(settings.event,function(e){if(true===$(this).data("disabled.editable"))return;
if(self.editing)return;if(false===onedit.apply(this,[settings,self]))return;e.preventDefault();e.stopPropagation();if(settings.tooltip)$(self).removeAttr("title");if(0==$(self).width()){settings.width=savedwidth;settings.height=savedheight}else{if(settings.width!="none")settings.width=settings.autowidth?$(self).width():settings.width;if(settings.height!="none")settings.height=settings.autoheight?$(self).height():settings.height}if($(this).html().toLowerCase().replace(/(;|")/g,"")==settings.placeholder.toLowerCase().replace(/(;|")/g,
""))$(this).html("");self.editing=true;self.revert=$(self).html();$(self).html("");var form=$("<form />");if(settings.cssclass)if("inherit"==settings.cssclass)form.attr("class",$(self).attr("class"));else form.attr("class",settings.cssclass);if(settings.style)if("inherit"==settings.style){form.attr("style",$(self).attr("style"));form.css("display",$(self).css("display"))}else form.attr("style",settings.style);var input=element.apply(form,[settings,self]);var input_content;if(settings.loadurl){var t=
setTimeout(function(){input.disabled=true;content.apply(form,[settings.loadtext,settings,self])},100);var loaddata={};loaddata[settings.id]=self.id;if($.isFunction(settings.loaddata))$.extend(loaddata,settings.loaddata.apply(self,[self.revert,settings]));else $.extend(loaddata,settings.loaddata);$.ajax({type:settings.loadtype,url:settings.loadurl,data:loaddata,async:false,success:function(result){window.clearTimeout(t);input_content=result;input.disabled=false}})}else if(settings.data){input_content=
settings.data;if($.isFunction(settings.data))input_content=settings.data.apply(self,[self.revert,settings])}else input_content=self.revert;content.apply(form,[input_content,settings,self]);input.attr("name",settings.name);buttons.apply(form,[settings,self]);$(self).append(form);plugin.apply(form,[settings,self]);$(":input:visible:enabled:first",form).focus();if(settings.select)input.select();input.keydown(function(e){if(e.keyCode==27){e.preventDefault();reset.apply(form,[settings,self])}});var t;
if("cancel"==settings.onblur)input.blur(function(e){t=setTimeout(function(){reset.apply(form,[settings,self])},500)});else if("submit"==settings.onblur)input.blur(function(e){t=setTimeout(function(){form.submit()},200)});else if($.isFunction(settings.onblur))input.blur(function(e){settings.onblur.apply(self,[input.val(),settings])});else input.blur(function(e){});form.submit(function(e){if(t)clearTimeout(t);e.preventDefault();if(false!==onsubmit.apply(form,[settings,self]))if(false!==submit.apply(form,
[settings,self]))if($.isFunction(settings.target)){var str=settings.target.apply(self,[input.val(),settings]);$(self).html(str);self.editing=false;callback.apply(self,[self.innerHTML,settings]);if(!$.trim($(self).html()))$(self).html(settings.placeholder)}else{var submitdata={};submitdata[settings.name]=input.val();submitdata[settings.id]=self.id;if($.isFunction(settings.submitdata))$.extend(submitdata,settings.submitdata.apply(self,[self.revert,settings]));else $.extend(submitdata,settings.submitdata);
if("PUT"==settings.method)submitdata["_method"]="put";$(self).html(settings.indicator);var ajaxoptions={type:"POST",data:submitdata,dataType:"html",url:settings.target,success:function(result,status){if(ajaxoptions.dataType=="html")$(self).html(result);self.editing=false;callback.apply(self,[result,settings]);if(!$.trim($(self).html()))$(self).html(settings.placeholder)},error:function(xhr,status,error){onerror.apply(form,[settings,self,xhr])}};$.extend(ajaxoptions,settings.ajaxoptions);$.ajax(ajaxoptions)}$(self).attr("title",
settings.tooltip);return false})});this.reset=function(form){if(this.editing)if(false!==onreset.apply(form,[settings,self])){$(self).html(self.revert);self.editing=false;if(!$.trim($(self).html()))$(self).html(settings.placeholder);if(settings.tooltip)$(self).attr("title",settings.tooltip)}}})};$.editable={types:{defaults:{element:function(settings,original){var input=$('<input type="hidden"></input>');$(this).append(input);return input},content:function(string,settings,original){$(":input:first",
this).val(string)},reset:function(settings,original){original.reset(this)},buttons:function(settings,original){var form=this;if(settings.submit){if(settings.submit.match(/>$/))var submit=$(settings.submit).click(function(){if(submit.attr("type")!="submit")form.submit()});else{var submit=$('<button type="submit" />');submit.html(settings.submit)}$(this).append(submit)}if(settings.cancel){if(settings.cancel.match(/>$/))var cancel=$(settings.cancel);else{var cancel=$('<button type="cancel" />');cancel.html(settings.cancel)}$(this).append(cancel);
$(cancel).click(function(event){if($.isFunction($.editable.types[settings.type].reset))var reset=$.editable.types[settings.type].reset;else var reset=$.editable.types["defaults"].reset;reset.apply(form,[settings,original]);return false})}}},text:{element:function(settings,original){var input=$("<input />");if(settings.width!="none")input.width(settings.width);if(settings.height!="none")input.height(settings.height);input.attr("autocomplete","off");$(this).append(input);return input}},textarea:{element:function(settings,
original){var textarea=$("<textarea />");if(settings.rows)textarea.attr("rows",settings.rows);else if(settings.height!="none")textarea.height(settings.height);if(settings.cols)textarea.attr("cols",settings.cols);else if(settings.width!="none")textarea.width(settings.width);$(this).append(textarea);return textarea}},select:{element:function(settings,original){var select=$("<select />");$(this).append(select);return select},content:function(data,settings,original){if(String==data.constructor)eval("var json = "+
data);else var json=data;for(var key in json){if(!json.hasOwnProperty(key))continue;if("selected"==key)continue;var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}$("select",this).children().each(function(){if($(this).val()==json["selected"]||$(this).text()==$.trim(original.revert))$(this).attr("selected","selected")})}}},addInputType:function(name,input){$.editable.types[name]=input}};$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",
event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}})(jQuery);jQuery.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldY:0,build:function(options){this.each(function(){this.tableDnDConfig=jQuery.extend({onDragStyle:null,onDropStyle:null,onDragClass:"tDnD_whileDrag",onDrop:null,onDragStart:null,scrollAmount:5,serializeRegexp:/[^\-]*$/,serializeParamName:null,dragHandle:null},options||{});jQuery.tableDnD.makeDraggable(this)});jQuery(document).bind("mousemove",jQuery.tableDnD.mousemove).bind("mouseup",jQuery.tableDnD.mouseup);return this},makeDraggable:function(table){var config=
table.tableDnDConfig;if(table.tableDnDConfig.dragHandle){var cells=jQuery("td."+table.tableDnDConfig.dragHandle,table);cells.each(function(){jQuery(this).mousedown(function(ev){jQuery.tableDnD.dragObject=this.parentNode;jQuery.tableDnD.currentTable=table;jQuery.tableDnD.mouseOffset=jQuery.tableDnD.getMouseOffset(this,ev);if(config.onDragStart)config.onDragStart(table,this);return false})})}else{var rows=jQuery("tr",table);rows.each(function(){var row=jQuery(this);if(!row.hasClass("nodrag"))row.mousedown(function(ev){if(ev.target.tagName==
"TD"){jQuery.tableDnD.dragObject=this;jQuery.tableDnD.currentTable=table;jQuery.tableDnD.mouseOffset=jQuery.tableDnD.getMouseOffset(this,ev);if(config.onDragStart)config.onDragStart(table,this);return false}}).css("cursor","move")})}},updateTables:function(){this.each(function(){if(this.tableDnDConfig)jQuery.tableDnD.makeDraggable(this)})},mouseCoords:function(ev){if(ev.pageX||ev.pageY)return{x:ev.pageX,y:ev.pageY};return{x:ev.clientX+document.body.scrollLeft-document.body.clientLeft,y:ev.clientY+
document.body.scrollTop-document.body.clientTop}},getMouseOffset:function(target,ev){ev=ev||window.event;var docPos=this.getPosition(target);var mousePos=this.mouseCoords(ev);return{x:mousePos.x-docPos.x,y:mousePos.y-docPos.y}},getPosition:function(e){var left=0;var top=0;if(e.offsetHeight==0)e=e.firstChild;while(e.offsetParent){left+=e.offsetLeft;top+=e.offsetTop;e=e.offsetParent}left+=e.offsetLeft;top+=e.offsetTop;return{x:left,y:top}},mousemove:function(ev){if(jQuery.tableDnD.dragObject==null)return;
var dragObj=jQuery(jQuery.tableDnD.dragObject);var config=jQuery.tableDnD.currentTable.tableDnDConfig;var mousePos=jQuery.tableDnD.mouseCoords(ev);var y=mousePos.y-jQuery.tableDnD.mouseOffset.y;var yOffset=window.pageYOffset;if(document.all)if(typeof document.compatMode!="undefined"&&document.compatMode!="BackCompat")yOffset=document.documentElement.scrollTop;else if(typeof document.body!="undefined")yOffset=document.body.scrollTop;if(mousePos.y-yOffset<config.scrollAmount)window.scrollBy(0,-config.scrollAmount);
else{var windowHeight=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;if(windowHeight-(mousePos.y-yOffset)<config.scrollAmount)window.scrollBy(0,config.scrollAmount)}if(y!=jQuery.tableDnD.oldY){var movingDown=y>jQuery.tableDnD.oldY;jQuery.tableDnD.oldY=y;if(config.onDragClass)dragObj.addClass(config.onDragClass);else dragObj.css(config.onDragStyle);var currentRow=jQuery.tableDnD.findDropTargetRow(dragObj,
y);if(currentRow)if(movingDown&&jQuery.tableDnD.dragObject!=currentRow)jQuery.tableDnD.dragObject.parentNode.insertBefore(jQuery.tableDnD.dragObject,currentRow.nextSibling);else if(!movingDown&&jQuery.tableDnD.dragObject!=currentRow)jQuery.tableDnD.dragObject.parentNode.insertBefore(jQuery.tableDnD.dragObject,currentRow)}return false},findDropTargetRow:function(draggedRow,y){var rows=jQuery.tableDnD.currentTable.rows;for(var i=0;i<rows.length;i++){var row=rows[i];var rowY=this.getPosition(row).y;
var rowHeight=parseInt(row.offsetHeight)/2;if(row.offsetHeight==0){rowY=this.getPosition(row.firstChild).y;rowHeight=parseInt(row.firstChild.offsetHeight)/2}if(y>rowY-rowHeight&&y<rowY+rowHeight){if(row==draggedRow)return null;var config=jQuery.tableDnD.currentTable.tableDnDConfig;if(config.onAllowDrop)if(config.onAllowDrop(draggedRow,row))return row;else return null;else{var nodrop=jQuery(row).hasClass("nodrop");if(!nodrop)return row;else return null}return row}}return null},mouseup:function(e){if(jQuery.tableDnD.currentTable&&
jQuery.tableDnD.dragObject){var droppedRow=jQuery.tableDnD.dragObject;var config=jQuery.tableDnD.currentTable.tableDnDConfig;if(config.onDragClass)jQuery(droppedRow).removeClass(config.onDragClass);else jQuery(droppedRow).css(config.onDropStyle);jQuery.tableDnD.dragObject=null;if(config.onDrop)config.onDrop(jQuery.tableDnD.currentTable,droppedRow);jQuery.tableDnD.currentTable=null}},serialize:function(){if(jQuery.tableDnD.currentTable)return jQuery.tableDnD.serializeTable(jQuery.tableDnD.currentTable);
else return"Error: No Table id set, you need to set an id on your table and every row"},serializeTable:function(table){var result="";var tableId=table.id;var rows=table.rows;for(var i=0;i<rows.length;i++){var rowId=rows[i].id;if(rowId&&rowId&&table.tableDnDConfig&&table.tableDnDConfig.serializeRegexp)rowId=rowId.match(table.tableDnDConfig.serializeRegexp)[0];if(result.length>0)result+=",";result+=rowId}return result},serializeTables:function(){var result="";this.each(function(){result+=jQuery.tableDnD.serializeTable(this)});
return result}};jQuery.fn.extend({tableDnD:jQuery.tableDnD.build,tableDnDUpdate:jQuery.tableDnD.updateTables,tableDnDSerialize:jQuery.tableDnD.serializeTables});jQuery.autocomplete=function(input,options){var me=this;var $input=$(input).attr("autocomplete","off");if(options.inputClass)$input.addClass(options.inputClass);var results=document.createElement("div");var $results=$(results);$results.hide().addClass(options.resultsClass).css("position","absolute");if(options.width>0)$results.css("width",options.width);$("body").append(results);input.autocompleter=me;var timeout=null;var prev="";var active=-1;var cache={};var keyb=false;var hasFocus=false;var lastKeyPressCode=
null;function flushCache(){cache={};cache.data={};cache.length=0}flushCache();if(options.data!=null){var sFirstChar="",stMatchSets={},row=[];if(typeof options.url!="string")options.cacheLength=1;for(var i=0;i<options.data.length;i++){row=typeof options.data[i]=="string"?[options.data[i]]:options.data[i];if(row[0].length>0){sFirstChar=row[0].substring(0,1).toLowerCase();if(!stMatchSets[sFirstChar])stMatchSets[sFirstChar]=[];stMatchSets[sFirstChar].push(row)}}for(var k in stMatchSets){options.cacheLength++;
addToCache(k,stMatchSets[k])}}$input.keydown(function(e){lastKeyPressCode=e.keyCode;switch(e.keyCode){case 38:e.preventDefault();moveSelect(-1);break;case 40:e.preventDefault();moveSelect(1);break;case 9:case 13:if(selectCurrent()){$input.get(0).blur();e.preventDefault()}break;default:active=-1;if(timeout)clearTimeout(timeout);timeout=setTimeout(function(){onChange()},options.delay);break}}).focus(function(){hasFocus=true}).blur(function(){hasFocus=false;hideResults()});hideResultsNow();function onChange(){if(lastKeyPressCode==
46||lastKeyPressCode>8&&lastKeyPressCode<32)return $results.hide();var v=$input.val();if(v==prev)return;prev=v;if(v.length>=options.minChars){$input.addClass(options.loadingClass);requestData(v)}else{$input.removeClass(options.loadingClass);$results.hide()}}function moveSelect(step){var lis=$("li",results);if(!lis)return;active+=step;if(active<0)active=0;else if(active>=lis.size())active=lis.size()-1;lis.removeClass("ac_over");$(lis[active]).addClass("ac_over")}function selectCurrent(){var li=$("li.ac_over",
results)[0];if(!li){var $li=$("li",results);if(options.selectOnly){if($li.length==1)li=$li[0]}else if(options.selectFirst)li=$li[0]}if(li){selectItem(li);return true}else return false}function selectItem(li){if(!li){li=document.createElement("li");li.extra=[];li.selectValue=""}var v=$.trim(li.selectValue?li.selectValue:li.innerHTML);input.lastSelected=v;prev=v;$results.html("");$input.val(v);hideResultsNow();if(options.onItemSelect)setTimeout(function(){options.onItemSelect(li)},1)}function createSelection(start,
end){var field=$input.get(0);if(field.createTextRange){var selRange=field.createTextRange();selRange.collapse(true);selRange.moveStart("character",start);selRange.moveEnd("character",end);selRange.select()}else if(field.setSelectionRange)field.setSelectionRange(start,end);else if(field.selectionStart){field.selectionStart=start;field.selectionEnd=end}field.focus()}function autoFill(sValue){if(lastKeyPressCode!=8){$input.val($input.val()+sValue.substring(prev.length));createSelection(prev.length,sValue.length)}}
function showResults(){var pos=findPos(input);var iWidth=options.width>0?options.width:$input.width();$results.css({width:parseInt(iWidth)+"px",top:pos.y+input.offsetHeight+"px",left:pos.x+"px"}).show()}function hideResults(){if(timeout)clearTimeout(timeout);timeout=setTimeout(hideResultsNow,200)}function hideResultsNow(){if(timeout)clearTimeout(timeout);$input.removeClass(options.loadingClass);if($results.is(":visible"))$results.hide();if(options.mustMatch){var v=$input.val();if(v!=input.lastSelected)selectItem(null)}}
function receiveData(q,data){if(data){$input.removeClass(options.loadingClass);results.innerHTML="";if(!hasFocus||data.length==0)return hideResultsNow();if($.browser.msie)$results.append(document.createElement("iframe"));results.appendChild(dataToDom(data));if(options.autoFill&&$input.val().toLowerCase()==q.toLowerCase())autoFill(data[0][0]);showResults()}else hideResultsNow()}function parseData(data){if(!data)return null;var parsed=[];var rows=data.split(options.lineSeparator);for(var i=0;i<rows.length;i++){var row=
$.trim(rows[i]);if(row)parsed[parsed.length]=row.split(options.cellSeparator)}return parsed}function dataToDom(data){var ul=document.createElement("ul");var num=data.length;if(options.maxItemsToShow>0&&options.maxItemsToShow<num)num=options.maxItemsToShow;for(var i=0;i<num;i++){var row=data[i];if(!row)continue;var li=document.createElement("li");if(options.formatItem){li.innerHTML=options.formatItem(row,i,num);li.selectValue=row[0]}else{li.innerHTML=row[0];li.selectValue=row[0]}var extra=null;if(row.length>
1){extra=[];for(var j=1;j<row.length;j++)extra[extra.length]=row[j]}li.extra=extra;ul.appendChild(li);$(li).hover(function(){$("li",ul).removeClass("ac_over");$(this).addClass("ac_over");active=$("li",ul).indexOf($(this).get(0))},function(){$(this).removeClass("ac_over")}).click(function(e){e.preventDefault();e.stopPropagation();selectItem(this)})}return ul}function requestData(q){if(!options.matchCase)q=q.toLowerCase();var data=options.cacheLength?loadFromCache(q):null;if(data)receiveData(q,data);
else if(typeof options.url=="string"&&options.url.length>0)$.get(makeUrl(q),function(data){data=parseData(data);addToCache(q,data);receiveData(q,data)});else $input.removeClass(options.loadingClass)}function makeUrl(q){var url=options.url+"?q="+encodeURI(q);for(var i in options.extraParams)url+="&"+i+"="+encodeURI(options.extraParams[i]);return url}function loadFromCache(q){if(!q)return null;if(cache.data[q])return cache.data[q];if(options.matchSubset)for(var i=q.length-1;i>=options.minChars;i--){var qs=
q.substr(0,i);var c=cache.data[qs];if(c){var csub=[];for(var j=0;j<c.length;j++){var x=c[j];var x0=x[0];if(matchSubset(x0,q))csub[csub.length]=x}return csub}}return null}function matchSubset(s,sub){if(!options.matchCase)s=s.toLowerCase();var i=s.indexOf(sub);if(i==-1)return false;return i==0||options.matchContains}this.flushCache=function(){flushCache()};this.setExtraParams=function(p){options.extraParams=p};this.findValue=function(){var q=$input.val();if(!options.matchCase)q=q.toLowerCase();var data=
options.cacheLength?loadFromCache(q):null;if(data)findValueCallback(q,data);else if(typeof options.url=="string"&&options.url.length>0)$.get(makeUrl(q),function(data){data=parseData(data);addToCache(q,data);findValueCallback(q,data)});else findValueCallback(q,null)};function findValueCallback(q,data){if(data)$input.removeClass(options.loadingClass);var num=data?data.length:0;var li=null;for(var i=0;i<num;i++){var row=data[i];if(row[0].toLowerCase()==q.toLowerCase()){li=document.createElement("li");
if(options.formatItem){li.innerHTML=options.formatItem(row,i,num);li.selectValue=row[0]}else{li.innerHTML=row[0];li.selectValue=row[0]}var extra=null;if(row.length>1){extra=[];for(var j=1;j<row.length;j++)extra[extra.length]=row[j]}li.extra=extra}}if(options.onFindValue)setTimeout(function(){options.onFindValue(li)},1)}function addToCache(q,data){if(!data||!q||!options.cacheLength)return;if(!cache.length||cache.length>options.cacheLength){flushCache();cache.length++}else if(!cache[q])cache.length++;
cache.data[q]=data}function findPos(obj){var curleft=obj.offsetLeft||0;var curtop=obj.offsetTop||0;while(obj=obj.offsetParent){curleft+=obj.offsetLeft;curtop+=obj.offsetTop}return{x:curleft,y:curtop}}};
jQuery.fn.autocomplete=function(url,options,data){options=options||{};options.url=url;options.data=typeof data=="object"&&data.constructor==Array?data:null;options.inputClass=options.inputClass||"ac_input";options.resultsClass=options.resultsClass||"ac_results";options.lineSeparator=options.lineSeparator||"\n";options.cellSeparator=options.cellSeparator||"|";options.minChars=options.minChars||1;options.delay=options.delay||400;options.matchCase=options.matchCase||0;options.matchSubset=options.matchSubset||
1;options.matchContains=options.matchContains||0;options.cacheLength=options.cacheLength||1;options.mustMatch=options.mustMatch||0;options.extraParams=options.extraParams||{};options.loadingClass=options.loadingClass||"ac_loading";options.selectFirst=options.selectFirst||false;options.selectOnly=options.selectOnly||false;options.maxItemsToShow=options.maxItemsToShow||-1;options.autoFill=options.autoFill||false;options.width=parseInt(options.width,10)||0;this.each(function(){var input=this;new jQuery.autocomplete(input,
options)});return this};jQuery.fn.autocompleteArray=function(data,options){return this.autocomplete(null,options,data)};jQuery.fn.indexOf=function(e){for(var i=0;i<this.length;i++)if(this[i]==e)return i;return-1};DateInput=function($){function DateInput(el,opts){if(typeof opts!="object")opts={};$.extend(this,DateInput.DEFAULT_OPTS,opts);this.input=$(el);this.bindMethodsToObj("show","hide","hideIfClickOutside","keydownHandler","selectDate");this.build();this.selectDate();this.hide()}DateInput.DEFAULT_OPTS={month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],short_month_names:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct",
"Nov","Dec"],short_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],start_of_week:1};DateInput.prototype={build:function(){var monthNav=$('<p class="month_nav">'+'<span class="button prev" title="[Page-Up]">&#171;</span>'+' <span class="month_name"></span> '+'<span class="button next" title="[Page-Down]">&#187;</span>'+"</p>");this.monthNameSpan=$(".month_name",monthNav);$(".prev",monthNav).click(this.bindToObj(function(){this.moveMonthBy(-1)}));$(".next",monthNav).click(this.bindToObj(function(){this.moveMonthBy(1)}));
var yearNav=$('<p class="year_nav">'+'<span class="button prev" title="[Ctrl+Page-Up]">&#171;</span>'+' <span class="year_name"></span> '+'<span class="button next" title="[Ctrl+Page-Down]">&#187;</span>'+"</p>");this.yearNameSpan=$(".year_name",yearNav);$(".prev",yearNav).click(this.bindToObj(function(){this.moveMonthBy(-12)}));$(".next",yearNav).click(this.bindToObj(function(){this.moveMonthBy(12)}));var nav=$('<div class="nav"></div>').append(monthNav,yearNav);var tableShell="<table><thead><tr>";
$(this.adjustDays(this.short_day_names)).each(function(){tableShell+="<th>"+this+"</th>"});tableShell+="</tr></thead><tbody></tbody></table>";this.dateSelector=this.rootLayers=$('<div class="date_selector"></div>').append(nav,tableShell).insertAfter(this.input);if($.browser.msie&&$.browser.version<7){this.ieframe=$('<iframe class="date_selector_ieframe" frameborder="0" src="#"></iframe>').insertBefore(this.dateSelector);this.rootLayers=this.rootLayers.add(this.ieframe);$(".button",nav).mouseover(function(){$(this).addClass("hover")});
$(".button",nav).mouseout(function(){$(this).removeClass("hover")})}this.tbody=$("tbody",this.dateSelector);this.input.change(this.bindToObj(function(){this.selectDate()}));this.selectDate()},selectMonth:function(date){var newMonth=new Date(date.getFullYear(),date.getMonth(),1);if(!this.currentMonth||!(this.currentMonth.getFullYear()==newMonth.getFullYear()&&this.currentMonth.getMonth()==newMonth.getMonth())){this.currentMonth=newMonth;var rangeStart=this.rangeStart(date),rangeEnd=this.rangeEnd(date);
var numDays=this.daysBetween(rangeStart,rangeEnd);var dayCells="";for(var i=0;i<=numDays;i++){var currentDay=new Date(rangeStart.getFullYear(),rangeStart.getMonth(),rangeStart.getDate()+i,12,0);if(this.isFirstDayOfWeek(currentDay))dayCells+="<tr>";if(currentDay.getMonth()==date.getMonth())dayCells+='<td class="selectable_day" date="'+this.dateToString(currentDay)+'">'+currentDay.getDate()+"</td>";else dayCells+='<td class="unselected_month" date="'+this.dateToString(currentDay)+'">'+currentDay.getDate()+
"</td>";if(this.isLastDayOfWeek(currentDay))dayCells+="</tr>"}this.tbody.empty().append(dayCells);this.monthNameSpan.empty().append(this.monthName(date));this.yearNameSpan.empty().append(this.currentMonth.getFullYear());$(".selectable_day",this.tbody).click(this.bindToObj(function(event){this.changeInput($(event.target).attr("date"))}));$("td[date="+this.dateToString(new Date)+"]",this.tbody).addClass("today");$("td.selectable_day",this.tbody).mouseover(function(){$(this).addClass("hover")});$("td.selectable_day",
this.tbody).mouseout(function(){$(this).removeClass("hover")})}$(".selected",this.tbody).removeClass("selected");$("td[date="+this.selectedDateString+"]",this.tbody).addClass("selected")},selectDate:function(date){if(typeof date=="undefined")date=this.stringToDate(this.input.val());if(!date)date=new Date;this.selectedDate=date;this.selectedDateString=this.dateToString(this.selectedDate);this.selectMonth(this.selectedDate)},changeInput:function(dateString){this.input.val(dateString).change();this.hide()},
show:function(){this.rootLayers.css("display","block");$([window,document.body]).click(this.hideIfClickOutside);this.input.unbind("focus",this.show);$(document.body).keydown(this.keydownHandler);this.setPosition()},hide:function(){this.rootLayers.css("display","none");$([window,document.body]).unbind("click",this.hideIfClickOutside);this.input.focus(this.show);$(document.body).unbind("keydown",this.keydownHandler)},hideIfClickOutside:function(event){if(event.target!=this.input[0]&&!this.insideSelector(event))this.hide()},
insideSelector:function(event){var offset=this.dateSelector.position();offset.right=offset.left+this.dateSelector.outerWidth();offset.bottom=offset.top+this.dateSelector.outerHeight();return event.pageY<offset.bottom&&event.pageY>offset.top&&event.pageX<offset.right&&event.pageX>offset.left},keydownHandler:function(event){switch(event.keyCode){case 9:case 27:this.hide();return;break;case 13:this.changeInput(this.selectedDateString);break;case 33:this.moveDateMonthBy(event.ctrlKey?-12:-1);break;case 34:this.moveDateMonthBy(event.ctrlKey?
12:1);break;case 38:this.moveDateBy(-7);break;case 40:this.moveDateBy(7);break;case 37:this.moveDateBy(-1);break;case 39:this.moveDateBy(1);break;default:return}event.preventDefault()},stringToDate:function(string){var matches;if(matches=string.match(/^(\d{1,2}) ([^\s]+) (\d{4,4})$/))return new Date(matches[3],this.shortMonthNum(matches[2]),matches[1],12,0);else return null},dateToString:function(date){return date.getDate()+" "+this.short_month_names[date.getMonth()]+" "+date.getFullYear()},setPosition:function(){var offset=
this.input.offset();this.rootLayers.css({top:offset.top+this.input.outerHeight(),left:offset.left});if(this.ieframe)this.ieframe.css({width:this.dateSelector.outerWidth(),height:this.dateSelector.outerHeight()})},moveDateBy:function(amount){var newDate=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth(),this.selectedDate.getDate()+amount);this.selectDate(newDate)},moveDateMonthBy:function(amount){var newDate=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+amount,
this.selectedDate.getDate());if(newDate.getMonth()==this.selectedDate.getMonth()+amount+1)newDate.setDate(0);this.selectDate(newDate)},moveMonthBy:function(amount){var newMonth=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+amount,this.currentMonth.getDate());this.selectMonth(newMonth)},monthName:function(date){return this.month_names[date.getMonth()]},bindToObj:function(fn){var self=this;return function(){return fn.apply(self,arguments)}},bindMethodsToObj:function(){for(var i=
0;i<arguments.length;i++)this[arguments[i]]=this.bindToObj(this[arguments[i]])},indexFor:function(array,value){for(var i=0;i<array.length;i++)if(value==array[i])return i},monthNum:function(month_name){return this.indexFor(this.month_names,month_name)},shortMonthNum:function(month_name){return this.indexFor(this.short_month_names,month_name)},shortDayNum:function(day_name){return this.indexFor(this.short_day_names,day_name)},daysBetween:function(start,end){start=Date.UTC(start.getFullYear(),start.getMonth(),
start.getDate());end=Date.UTC(end.getFullYear(),end.getMonth(),end.getDate());return(end-start)/864E5},changeDayTo:function(dayOfWeek,date,direction){var difference=direction*(Math.abs(date.getDay()-dayOfWeek-direction*7)%7);return new Date(date.getFullYear(),date.getMonth(),date.getDate()+difference)},rangeStart:function(date){return this.changeDayTo(this.start_of_week,new Date(date.getFullYear(),date.getMonth()),-1)},rangeEnd:function(date){return this.changeDayTo((this.start_of_week-1)%7,new Date(date.getFullYear(),
date.getMonth()+1,0),1)},isFirstDayOfWeek:function(date){return date.getDay()==this.start_of_week},isLastDayOfWeek:function(date){return date.getDay()==(this.start_of_week-1)%7},adjustDays:function(days){var newDays=[];for(var i=0;i<days.length;i++)newDays[i]=days[(i+this.start_of_week)%7];return newDays}};$.fn.date_input=function(opts){return this.each(function(){new DateInput(this,opts)})};$.date_input={initialize:function(opts){$("input.date_input").date_input(opts)}};return DateInput}(jQuery);(function($,window){var defaults={showDelay:1E3,hideDelay:1E3,callback:function(){}},activeElement,$hint,$hintTop,$hintBottom,$content,publicMethod;function init(){if($hint)return;$hint=$('<div id="details-hint" class=""><div id="details-hint-top"></div><div id="details-hint-middle"></div><div id="details-hint-bottom"></div><div id="details-hint-content-wrapper"><div id="details-hint-content" class="empty"></div></div></div>').hide();$hintTop=$hint.find("#details-hint-top");$hintBottom=$hint.find("#details-hint-bottom");
$content=$hint.find("#details-hint-content");$("body").append($hint)}function displayContent(the_content){$content.empty().removeClass("empty").append(the_content)}function launch(element_to_launch){activeElement=element_to_launch;var element=element_to_launch,element_position=element.position(),element_width=element.width(),element_height=element.height(),hint_width=$hint.width(),hint_height=$hint.height(),top=element_position.top+element_height/2-230,left=element_position.left+element_width,klass=
"";var $window=$(window);if(left+hint_width>$window.width()){klass="alternate";left=element_position.left-hint_width+10}else left-=10;if(top+hint_height>$window.scrollTop()+$window.height())top=$window.scrollTop()+$window.height()-hint_height;else if(top<$window.scrollTop())top=$window.scrollTop();$hint.css({top:top,left:left}).removeClass("alternate alternate-arrow").addClass(klass);var point_x=element_position.top-top+element_height/2;if(point_x<17)point_x=17;else if(point_x>279){$hint.addClass("alternate-arrow");
if(point_x>370)point_x=370;point_x-=90}$hintTop.css({height:point_x});$hintBottom.css({height:hint_height-114-point_x});$hint.show();var data=element.data("details_hint");if(data._cache!==undefined)displayContent(data._cache);else{var content=data.callback.apply(element,[]);if(content)displayContent(content)}}publicMethod=$.fn["details_hint"]=$["details_hint"]=function(options,callback){var $this=$(this);if(!$this[0]&&$this.selector)return $this;options=defaults;$this.each(function(index,element){element=
$(element);var data=$.extend({},element.data("details_hint")||defaults,options),showTimeout;data.callback=callback||data.callback;element.hover(function(){showTimeout=setTimeout(function(){launch(element)},data.showDelay)},function(){clearTimeout(showTimeout);publicMethod.close()}).attr("title","").data("details_hint",data)});return $this};publicMethod.close=function(){$hint.hide();$content.empty().addClass("empty")};publicMethod.setContent=function(element,content){if(!element||!activeElement)return;
element=$(element);var data=element.data("details_hint");data._cache=content;element.data("details_hint",data);if(activeElement[0]===element[0])displayContent(content)};$(document).ready(init)})(jQuery,this);/*
 
 jQuery Tools 1.2.5 Tooltip - UI essentials

 NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.

 http://flowplayer.org/tools/tooltip/

 Since: November 2008
 Date:    Wed Sep 22 06:02:10 2010 +0000 
*/
(function($){$.tools=$.tools||{version:"1.2.5"};$.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(name,loadFn,hideFn){effects[name]=[loadFn,hideFn]}};var effects={toggle:[function(done){var conf=this.getConf(),
tip=this.getTip(),o=conf.opacity;if(o<1)tip.css({opacity:o});tip.show();done.call()},function(done){this.getTip().hide();done.call()}],fade:[function(done){var conf=this.getConf();this.getTip().fadeTo(conf.fadeInSpeed,conf.opacity,done)},function(done){this.getTip().fadeOut(this.getConf().fadeOutSpeed,done)}]};function getPosition(trigger,tip,conf){var top=conf.relative?trigger.position().top:trigger.offset().top,left=conf.relative?trigger.position().left:trigger.offset().left,pos=conf.position[0];
top-=tip.outerHeight()-conf.offset[0];left+=trigger.outerWidth()+conf.offset[1];if(/iPad/i.test(navigator.userAgent))top-=$(window).scrollTop();var height=tip.outerHeight()+trigger.outerHeight();if(pos=="center")top+=height/2;if(pos=="bottom")top+=height;pos=conf.position[1];var width=tip.outerWidth()+trigger.outerWidth();if(pos=="center")left-=width/2;if(pos=="left")left-=width;return{top:top,left:left}}function Tooltip(trigger,conf){var self=this,fire=trigger.add(self),tip,timer=0,pretimer=0,title=
trigger.attr("title"),tipAttr=trigger.attr("data-tooltip"),effect=effects[conf.effect],shown,isInput=trigger.is(":input"),isWidget=isInput&&trigger.is(":checkbox, :radio, select, :button, :submit"),type=trigger.attr("type"),evt=conf.events[type]||conf.events[isInput?isWidget?"widget":"input":"def"];if(!effect)throw'Nonexistent effect "'+conf.effect+'"';evt=evt.split(/,\s*/);if(evt.length!=2)throw"Tooltip: bad events configuration for "+type;trigger.bind(evt[0],function(e){clearTimeout(timer);if(conf.predelay)pretimer=
setTimeout(function(){self.show(e)},conf.predelay);else self.show(e)}).bind(evt[1],function(e){clearTimeout(pretimer);if(conf.delay)timer=setTimeout(function(){self.hide(e)},conf.delay);else self.hide(e)});if(title&&conf.cancelDefault){trigger.removeAttr("title");trigger.data("title",title)}$.extend(self,{show:function(e){if(!tip){if(tipAttr)tip=$(tipAttr);else if(conf.tip)tip=$(conf.tip).eq(0);else if(title)tip=$(conf.layout).addClass(conf.tipClass).appendTo(document.body).hide().append(title);else{tip=
trigger.next();if(!tip.length)tip=trigger.parent().next()}if(!tip.length)throw"Cannot find tooltip for "+trigger;}if(self.isShown())return self;tip.stop(true,true);var pos=getPosition(trigger,tip,conf);if(conf.tip)tip.html(trigger.data("title"));e=e||$.Event();e.type="onBeforeShow";fire.trigger(e,[pos]);if(e.isDefaultPrevented())return self;pos=getPosition(trigger,tip,conf);tip.css({position:"absolute",top:pos.top,left:pos.left});shown=true;effect[0].call(self,function(){e.type="onShow";shown="full";
fire.trigger(e)});var event=conf.events.tooltip.split(/,\s*/);if(!tip.data("__set")){tip.bind(event[0],function(){clearTimeout(timer);clearTimeout(pretimer)});if(event[1]&&!trigger.is("input:not(:checkbox, :radio), textarea"))tip.bind(event[1],function(e){if(e.relatedTarget!=trigger[0])trigger.trigger(evt[1].split(" ")[0])});tip.data("__set",true)}return self},hide:function(e){if(!tip||!self.isShown())return self;e=e||$.Event();e.type="onBeforeHide";fire.trigger(e);if(e.isDefaultPrevented())return;
shown=false;effects[conf.effect][1].call(self,function(){e.type="onHide";fire.trigger(e)});return self},isShown:function(fully){return fully?shown=="full":shown},getConf:function(){return conf},getTip:function(){return tip},getTrigger:function(){return trigger}});$.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(i,name){if($.isFunction(conf[name]))$(self).bind(name,conf[name]);self[name]=function(fn){if(fn)$(self).bind(name,fn);return self}})}$.fn.tooltip=function(conf){var api=
this.data("tooltip");if(api)return api;conf=$.extend(true,{},$.tools.tooltip.conf,conf);if(typeof conf.position=="string")conf.position=conf.position.split(/,?\s/);this.each(function(){api=new Tooltip($(this),conf);$(this).data("tooltip",api)});return conf.api?api:this}})(jQuery);
